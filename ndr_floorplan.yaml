button_card_templates: !include button_card_templates.yaml

title: TabletUI
views:

    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                              Floorplan View                                                               #
    #                                                                                                                                           #
    #############################################################################################################################################
    
  - title: Home
    icon: 'mdi:floor-plan'
    panel: true
    path: home
    badges: []    
    cards:
    
        ###################   config-template-card    #####################
        #########################   IMPORTANT!    #########################

        # To use the styling templates for individual lights, I have used 
        # Config Template Card. Config template card passes the entities it
        # uses into the card. Make sure you change these entities below to  
        # your own and include any light entities you use above.
        
        # To understand why, check: https://github.com/iantrich/config-template-card

      - type: 'custom:config-template-card'    
        entities:
          - light.faretti
          - light.led_cucina
          - light.led_scale
          - light.luce1
          - light.luce2
          - light.luce_bagno
          - light.luce_camera
          - light.luce_giardino
          - light.luce_studio

        card:
          ###################   Picture Elements Card    #####################
          type: picture-elements       
          image: /local/ui/floorplan/casa-notte.png
          style: |
            ha-card:first-child {
              background: rgba(42, 46, 48, 1)
            }
          elements:

              #########################    DAY BASE FLOORPLAN OVERLAY    #########################

            - action: none
              entity: sun.sun
              hold_action:
                action: none
              state_image:
                above_horizon: /local/ui/floorplan/casa-giorno.png
                below_horizon: /local/transparent.png
              style:
                height: 100%
                left: 50%
                mix-blend-mode: lighten
                opacity: '${ states[''sensor.sunlight_opacity''].state }'
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

              #########################    WEATHER ANIMATIONS    #########################
              
            - action: none
              entity: weather.home
              hold_action:
                action: none
              image: /local/ui/floorplan/weather/rainstorm.gif
              state_filter:
                'pouring': opacity(100%)
              style:
                left: 60%
                mix-blend-mode: color-dodge
                top: 50%
                width: 110%
                opacity: 0
              tap_action:
                action: none
              type: image     
      
             #########################    Inside overlays for weather    #########################


            - action: none
              hold_action:
                action: none
              image: /local/ui/floorplan/interno-notte.png
              style:
                height: 100%
                left: 50%
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image 
              
            - action: none
              entity: sun.sun
              hold_action:
                action: none
              state_image:
                above_horizon: /local/ui/floorplan/interno-giorno.png
                below_horizon: /local/transparent.png
              style:
                height: 100%
                left: 50%
                mix-blend-mode: lighten
                opacity: '${ states[''sensor.sunlight_opacity''].state }'
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image       


              #########################    INDIVIDUAL LIGHTS - BLENDED IMAGE OVERLAYS    #########################

              ####################################################
              #                                                  #
              #                 SALA + CUCINA                    #
              #                                                  #
              ####################################################

              
            - action: none
              entity: light.faretti
              hold_action:
                action: none
              image: /local/ui/floorplan/sala_faretti.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['light.faretti'].attributes.hs_color
                  ? states['light.faretti'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['light.faretti'].state === 'on' ? (states['light.faretti'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

            - action: none
              entity: light.led_cucina
              hold_action:
                action: none
              image: /local/ui/floorplan/sala_led-cucina.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['light.led_cucina'].attributes.hs_color
                  ? states['light.led_cucina'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['light.led_cucina'].state === 'on' ? (states['light.led_cucina'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

            - action: none
              entity: light.led_scale
              hold_action:
                action: none
              image: /local/ui/floorplan/sala_led-scale.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['light.led_scale'].attributes.hs_color
                  ? states['light.led_scale'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['light.led_scale'].state === 'on' ? (states['light.led_scale'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

            - action: none
              entity: light.luce1
              hold_action:
                action: none
              image: /local/ui/floorplan/sala_luce1.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['light.luce1'].attributes.hs_color
                  ? states['light.luce1'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['light.luce1'].state === 'on' ? (states['light.luce1'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

            - action: none
              entity: light.luce1
              hold_action:
                action: none
              image: /local/ui/floorplan/sala_luce2.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['light.luce2'].attributes.hs_color
                  ? states['light.luce2'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['light.luce2'].state === 'on' ? (states['light.luce2'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

              ####################################################
              #                                                  #
              #                      BAGNO                       #
              #                                                  #
              ####################################################

            - action: none
              entity: light.luce_bagno
              hold_action:
                action: none
              image: /local/ui/floorplan/bagno.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['light.luce_bagno'].attributes.hs_color
                  ? states['light.luce_bagno'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['light.luce_bagno'].state === 'on' ? (states['light.luce_bagno'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

              ####################################################
              #                                                  #
              #                     CAMERA                       #
              #                                                  #
              ####################################################

            - action: none
              entity: light.luce_camera
              hold_action:
                action: none
              image: /local/ui/floorplan/camera.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['light.luce_camera'].attributes.hs_color
                  ? states['light.luce_camera'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['light.luce_camera'].state === 'on' ? (states['light.luce_camera'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image
          
              ####################################################
              #                                                  #
              #                     BALCONE                      #
              #                                                  #
              ####################################################

            - action: none
              entity: light.luce_giardino
              hold_action:
                action: none
              image: /local/ui/floorplan/balcone.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['light.luce_giardino'].attributes.hs_color
                  ? states['light.luce_giardino'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['light.luce_giardino'].state === 'on' ? (states['light.luce_giardino'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image
      
              #########################    INDIVIDUAL LIGHT ICONS    #########################
              
              #  These are the white state icons that appear over the floorplan.
              #  They are the same as above, but instead of "areas" to control a group, they only 
              #. control individual lights
              #
              #  browser_mod.popup is used for a tap and hold for a custom popup card, custom styling 
              #  of the icon to make it appear white, etc.

              ####################################################
              #                                                  #
              #                 SALA + CUCINA                    #
              #                                                  #
              ####################################################             
              
            - entity: light.faretti
              icon: 'mdi:string-lights'
              style:
                '--iron-icon-height': 1.2vw
                '--iron-icon-width': 1.2vw
                '--paper-item-icon-active-color': '#ffff66'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center
                left: 61%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 71%
                transform: scale(1.2)
                width: 2.5vw
                height: 2.5vw
              tap_action:
                action: toggle
              type: state-icon
            
            - entity: light.led_cucina
              icon: 'mdi:led-strip-variant'
              style:
                '--iron-icon-height': 1.2vw
                '--iron-icon-width': 1.2vw
                '--paper-item-icon-active-color': '#ffff66'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center
                left: 66%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 71%
                transform: scale(1.2)
                width: 2.5vw
                height: 2.5vw
              tap_action:
                action: toggle
              type: state-icon
            
            - entity: light.led_scale
              icon: 'mdi:led-strip-variant'
              style:
                '--iron-icon-height': 1.2vw
                '--iron-icon-width': 1.2vw
                '--paper-item-icon-active-color': '#ffff66'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center
                left: 63%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 50%
                transform: scale(1.2)
                width: 2.5vw
                height: 2.5vw
              tap_action:
                action: toggle
              type: state-icon

            - entity: light.luce1
              icon: 'mdi:ceiling-light'
              style:
                '--iron-icon-height': 1.2vw
                '--iron-icon-width': 1.2vw
                '--paper-item-icon-active-color': '#ffff66'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center
                left: 55%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 43%
                transform: scale(1.2)
                width: 2.5vw
                height: 2.5vw
              tap_action:
                action: toggle
              type: state-icon

            - entity: light.luce2
              icon: 'mdi:ceiling-light'
              style:
                '--iron-icon-height': 1.2vw
                '--iron-icon-width': 1.2vw
                '--paper-item-icon-active-color': '#ffff66'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center
                left: 55%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 58%
                transform: scale(1.2)
                width: 2.5vw
                height: 2.5vw
              tap_action:
                action: toggle
              type: state-icon

              ####################################################
              #                                                  #
              #                      BAGNO                       #
              #                                                  #
              ####################################################
              
            - entity: light.luce_bagno
              icon: 'mdi:ceiling-light'
              style:
                '--iron-icon-height': 1.2vw
                '--iron-icon-width': 1.2vw
                '--paper-item-icon-active-color': '#ffff66'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center
                left: 71%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 47%
                transform: scale(1.2)
                width: 2.5vw
                height: 2.5vw
              tap_action:
                action: toggle
              type: state-icon

              ####################################################
              #                                                  #
              #                     CAMERA                       #
              #                                                  #
              ####################################################

            - entity: light.luce_camera
              icon: 'mdi:string-lights'
              style:
                '--iron-icon-height': 1.2vw
                '--iron-icon-width': 1.2vw
                '--paper-item-icon-active-color': '#ffff66'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center
                left: 85%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 45%
                transform: scale(1.2)
                width: 2.5vw
                height: 2.5vw
              tap_action:
                action: toggle
              type: state-icon

              ####################################################
              #                                                  #
              #                     BALCONE                      #
              #                                                  #
              ####################################################

            - entity: light.luce_giardino
              icon: 'mdi:coach-lamp'
              style:
                '--iron-icon-height': 1.2vw
                '--iron-icon-width': 1.2vw
                '--paper-item-icon-active-color': '#ffff66'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center
                left: 43%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 28%
                transform: scale(1.2)
                width: 2.5vw
                height: 2.5vw
              tap_action:
                action: toggle
              type: state-icon

############################################################################################
############################################################################################
                ###                                                     ###                
                ###                    SIDEBAR                          ###
                ###                                                     ###
############################################################################################
############################################################################################

            - action: none
              hold_action:
                action: none
              image: /local/ui/sidebar/sidebar_xl.png
              style:
                height: 100%
                left: 11.73828125%
                top: 50%
                width: 23.4765625%
              tap_action:
                action: none
              type: image
            

                          #########################    TIME AND DATE    #########################

            - entity: sensor.time
              hold_action:
                action: none
              style:
                color: 'rgba(255, 255, 255, 0.7)'
                font-size: 5.41vw
                font-weight: 200
                left: 2.7%
                letter-spacing: '-0.05vw'
                max-width: 1px
                top: 10%
              tap_action:
                action: none
              type: state-label
            - entity: sensor.sidebar_date
              hold_action:
                action: none
              style:
                color: 'rgba(255, 255, 255, 0.3)'
                font-size: 1.3vw
                font-weight: 300
                left: 18.1%
                letter-spacing: '-0.05vw'
                text-align: left
                top: 17%
                width: 30%
              tap_action:
                action: none
              type: state-label
            

            #########################    MENU BUTTONS    #########################

            - action: none
              image: /local/ui/sidebar/home_on.png
              style:
                border-radius: 5vw
                box-shadow: '0px 0.2vw 0.8vw 0px rgba(0,0,0,0.1)'
                left: 11.7%
                top: 26%
                width: 20.5078125%
              tap_action:
                action: navigate
                navigation_path: /ndr-tabletui/home
              type: image
            - action: none
              image: /local/ui/sidebar/devices_off.png?v=1
              style:
                left: 11.7%
                top: 34%
                width: 20.5078125%
              tap_action:
                action: navigate
                navigation_path: /ndr-tabletui/devices
              type: image
            - action: none
              image: /local/ui/sidebar/media_off.png?v=1
              style:
                left: 11.7%
                top: 42%
                width: 20.5078125%
              tap_action:
                action: navigate
                navigation_path: /ndr-tabletui/media
              type: image
            - action: none
              image: /local/ui/sidebar/clima_off.png
              style:
                left: 11.7%
                top: 50%
                width: 20.5078125%
              tap_action:
                action: navigate
                navigation_path: /ndr-tabletui/clima
              type: image
            - action: none
              image: /local/ui/sidebar/down_2s.gif
              style:
                left: 11.7%
                top: 58%
                width: 8%
              tap_action:
                action: navigate
                navigation_path: /ndr-tabletui/system
              type: image     
            


            #########################    People at home    #########################
            #Optional label for people at Home (Hidden with opacity: 0, Visible with opacity: 1)
              
            - style:
                color: white
                font-size: 1vw
                font-weight: 300
                left: 8.8%
                opacity: 1
                top: 66%
                width: 10%
              text: 'In Casa:'
              type: 'custom:text-element'
              
            - action: none
              entity: person.andrea
              state_image:
                home: /local/propic/andre.jpg
                not_home: /local/propic/andregr.jpg
                Lavoro Andre: /local/propic/andregr.jpg
                Casa Pinto: /local/propic/andregr.jpg
              style:
                background-color: 'rgba(255, 255, 255, 0.0)'
                border-radius: 10vw
                height: 4.5vw
                left: 5.8%
                top: 72%
                width: 4.5vw
              tap_action: none
              type: image
                
            - action: none
              entity: person.mary
              state_image:
                home: /local/propic/mary.jpg
                not_home: /local/propic/marygr.jpg
                Lavoro Mary: /local/propic/marygr.jpg
                Casa Pinto: /local/propic/marygr.jpg
              style:
                background-color: 'rgba(255, 255, 255, 0.0)'
                border-radius: 10vw
                height: 4.5vw
                left: 10.8%
                top: 72%
                width: 4.5vw
              tap_action: none
              type: image
              
            - action: none
              image: /local/transparent.png
              style:
                background-color: 'rgba(255, 255, 255, 0.0)'
                border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
                border-radius: 10vw
                height: 4.2vw
                left: 15.9%
                top: 72.2%
                width: 4.2vw
              tap_action: none
              type: image
            - action: none
              image: /local/transparent.png
              style:
                background-color: 'rgba(255, 255, 255, 0.0)'
                border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
                border-radius: 10vw
                height: 4.2vw
                left: 21.1%
                top: 72.2%
                width: 4.2vw
              tap_action: none
              type: image
  
              
            #########################    Minigraph to show temperature inside and out    #########################

            - color_thresholds:
                - color: '#4dd2ff'
                  value: 10
                - color: '#ffa31a'
                  value: 15
                - color: '#ff1a1a'
                  value: 20
              entities:
                - sensor.daikin_sala_inside_temperature
                - sensor.daikin_sala_outside_temperature
              icon: 'mdi:home-thermometer-outline'
              show:
                icon: true
                legend: false
                name: false
              style: |
                :host {
                  left: 11.6%;
                  top:  92.9%;
                  width: 23.5%;
                  overflow: hidden;
                  height: 15%;
                  background: none  !important;
                  box-shadow: none !important;
                }
                .header {
                  font-size: 1vw;
                  position: absolute !important;
                  width: 5% !important;
                  padding: 0 !important;
                  right: 20% !important;
                  top: 15% !important;
                }
                ha-card {
                  background: none  !important;
                  padding: 0 !important;
                }
                .icon > ha-icon {
                  width:1.8vw !important;
                  height:1.8vw !important;
                }
                .state__time{
                  font-size:0.9vw !important;
                  margin-top: 0.2vw;
                  font-weight: 300 !important;
                  opacity: 0.4 !important;
                }
                .states {
                  font-size: 0.5vw !important;
                  padding: 1vw 0vw 0vw 0vw  !important;
                  margin: auto !important;
                  width: 68%;
                }
              tap_action:
                action: navigate
                navigation_path: /lovelace/4 #DA MODIFICARE!!!!!!!!!!!!!!!!!!!!!!!!
              type: 'custom:mini-graph-card'
          
          
            #########################    Mini Weather card    #########################
              
            - backdrop: false
              entity: weather.home
              name: ' '
              style: |
                :host {
                  left: 11.4%;
                  top:  85.5%;
                  width: 17%;
                  height: 7% !important;
                  overflow: hidden;
                  height: 8.5vw;
                  background: none  !important;
                  box-shadow: none !important;
                  font-size: 1vw !important;
                }
                ha-card {
                  background: none  !important;
                  box-shadow: none !important;
                  flex-flow: row-reverse !important;
                  padding: 0 !important;
                }
                .weather__info--add{
                  display : none !important;
                }
                .weather__info{
                  flex-grow: 1;
                  min-height: 0 !important;
                  height: 2.4vw;
                  margin-left: 0.6vw;
                  margin-top: 0.9vw;
                }
                .weather__icon{
                  margin-right:0.5% !important;
                  margin-top: -3%;
                  width: 2vw !important;
                  height: 2vw !important;
                  flex: 0 0 2vw !important;
                }
              tap_action:
                action: navigate
                navigation_path: /lovelace/4 #DA CAMBIARE!!!!!!!!!!!!!!!!!
              type: 'custom:simple-weather-card'    
            
            
            #########################    Overlay shadow images    #########################
              
            - action: none
              image: /local/ui/sidebar/sideShadow.png
              style:
                height: 35%
                left: 18.45%
                pointer-events: none
                top: 83%
                width: 10%
              type: image
            - action: none
              image: /local/ui/sidebar/sidebarInnerShadow.png
              style:
                left: 22.83%
                opacity: 0.7
                pointer-events: none
                top: 50%
                width: 1.2109375%
              type: image  

            

    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                         All Devices (Entities)                                                            #
    #                                                                                                                                           #
    #############################################################################################################################################

  - title: Devices        
    icon: 'mdi:devices'
    path: devices
    panel: true
    cards:
      - type: picture-elements    
        image: /local/ui/blurredFloorplan.png
        style: |
          ha-card {
            background: rgba(42, 46, 48, 1)
          }
        elements:

          - type: 'custom:layout-card-griddier'
            layout: grid
            gridcols: 50% 50%
            gridrows: auto auto auto
            gridareas: |
              'card1 card3' 
              'card2 card4' 
              'card6 card8'
          ### Card8 is only a placeholder    
            gridcols_medium: 50% 50%
            gridareas_medium: |
              'card1 card3' 
              'card2 card4' 
              'card6 card8'  
            gridcols_small: 100%
            gridareas_small: |
              'card0'
              'card1' 
              'card2'
              'card4'
              'card5'
              'card6'
              'card7'
              'card3' 
            column_width: 500px
            style:
              height: 87%
              left: 62%
              top: 50%
              width: 68%
            cards:


    ####################################################
    #                                                  #
    #                       SALA                       #
    #                                                  #
    ####################################################
              

    ### CARD 1                          
              - gridarea: card1
                type: vertical-stack
                cards:
                  - type: markdown
                    content: |
                      # Sala
                    style:
                      .: |
                        ha-card {
                          --ha-card-background: none !important;
                          box-shadow: none !important;
                        }
                      ha-markdown:
                        $: |
                          h1 {
                            font-size: 20px;
                            font-weight: bold;
                            font-family: Helvetica;
                            letter-spacing: '-0.01em';
                          }
                  
                  - type: vertical-stack
                    cards:
                      - type: horizontal-stack
                        cards:
                          - type: 'custom:button-card'
                            entity: light.luce1 # Change this to the entity you want to control
                            icon: 'mdi:ceiling-light'
                            name: Luce 1
                            size: 30%
                            styles:
                              img_cell:
                            # You can adjust padding of the icon
                                - padding-left: 30px
                                - justify-content: start
                              card:
                                - margin: 5px
                                - width: min(25vw, 100px)
                                - height: min(25vw, 100px)
                                - border-radius: 15px
                                - box-shadow: '-5px -5px 10px rgba(50, 50, 50, .2), 6px 6px 10px rgba(0, 0, 0, .08)'
                                - background-color: var(--primary-background-color)
                              icon:
                                - color: var(--primary-text-color)
                              grid:
                                - grid-template-areas: '"i" "n" "s"'
                                - grid-template-columns: 1fr
                                - grid-template-rows: 1fr min-content min-content
                              name:
                                - justify-self: start
                                - font-weight: bold
                                - font-size: 15px
                                - padding-left: 15px
                              state:
                                - justify-self: start
                                - font-weight: bold
                                - font-size: 15px
                                - opacity: 0.6
                                - padding: 0 15px 5px
                            show_state: true
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - border-width: 2px
                                    - box-shadow: 'inset -4px -4px 5px rgba(60, 60, 60, .6), inset 4px 4px 5px rgba(0, 0, 0, .5)'
                                    - border-color: var(--paper-item-icon-active-color)
                                  icon:
                                    - color: var(--paper-item-icon-active-color)                           
                            tap_action:
                              action: toggle
                              haptic: light
                            hold_action:
                              action: more-info
                              haptic: medium
                                
                          - type: 'custom:button-card'
                            entity: light.luce2 # Change this to the entity you want to control
                            icon: 'mdi:ceiling-light'
                            name: Luce 2
                            size: 30%
                            styles:
                              img_cell:
                            # You can adjust padding of the icon
                                - padding-left: 30px
                                - justify-content: start
                              card:
                                - margin: 5px
                                - width: min(25vw, 100px)
                                - height: min(25vw, 100px)
                                - border-radius: 15px
                                - box-shadow: '-5px -5px 10px rgba(50, 50, 50, .2), 6px 6px 10px rgba(0, 0, 0, .08)'
                                - background-color: var(--primary-background-color)
                              icon:
                                - color: var(--primary-text-color)
                              grid:
                                - grid-template-areas: '"i" "n" "s"'
                                - grid-template-columns: 1fr
                                - grid-template-rows: 1fr min-content min-content
                              name:
                                - justify-self: start
                                - font-weight: bold
                                - font-size: 15px
                                - padding-left: 15px
                              state:
                                - justify-self: start
                                - font-weight: bold
                                - font-size: 15px
                                - opacity: 0.6
                                - padding: 0 15px 5px
                            show_state: true
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - border-width: 2px
                                    - box-shadow: 'inset -4px -4px 5px rgba(60, 60, 60, .6), inset 4px 4px 5px rgba(0, 0, 0, .5)'
                                    - border-color: var(--paper-item-icon-active-color)
                                  icon:
                                    - color: var(--paper-item-icon-active-color)
                            tap_action:
                              action: toggle
                              haptic: light
                            hold_action:
                              action: more-info
                              haptic: medium

                          - type: 'custom:button-card'
                            entity: light.led_scale # Change this to the entity you want to control
                            icon: 'mdi:led-strip-variant'
                            name: Scale
                            size: 30%
                            styles:
                              img_cell:
                            # You can adjust padding of the icon
                                - padding-left: 30px
                                - justify-content: start
                              card:
                                - margin: 5px
                                - width: min(25vw, 100px)
                                - height: min(25vw, 100px)
                                - border-radius: 15px
                                - box-shadow: '-5px -5px 10px rgba(50, 50, 50, .2), 6px 6px 10px rgba(0, 0, 0, .08)'
                                - background-color: var(--primary-background-color)
                              icon:
                                - color: var(--primary-text-color)
                              grid:
                                - grid-template-areas: '"i" "n" "s"'
                                - grid-template-columns: 1fr
                                - grid-template-rows: 1fr min-content min-content
                              name:
                                - justify-self: start
                                - font-weight: bold
                                - font-size: 15px
                                - padding-left: 15px
                              state:
                                - justify-self: start
                                - font-weight: bold
                                - font-size: 15px
                                - opacity: 0.6
                                - padding: 0 15px 5px
                            show_state: true
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - border-width: 2px
                                    - box-shadow: 'inset -4px -4px 5px rgba(60, 60, 60, .6), inset 4px 4px 5px rgba(0, 0, 0, .5)'
                                    - border-color: var(--paper-item-icon-active-color)
                                  icon:
                                    - color: var(--paper-item-icon-active-color)
                            tap_action:
                              action: toggle
                              haptic: light
                            hold_action:
                              action: more-info
                              haptic: medium
                      
    ####################################################
    #                                                  #
    #                     CUCINA                       #
    #                                                  #
    ####################################################

    ### CARD 2    
              - gridarea: card2
                type: vertical-stack
                cards:
                  - type: markdown
                    content: |
                      # Cucina
                    style:
                      .: |
                        ha-card {
                          --ha-card-background: none !important;
                          box-shadow: none !important;
                        }
                      ha-markdown:
                        $: |
                          h1 {
                            font-size: 20px;
                            font-weight: bold;
                            font-family: Helvetica;
                            letter-spacing: '-0.01em';
                          }

                  - type: horizontal-stack
                    cards:
                      - type: 'custom:button-card'
                        entity: light.faretti # Change this to the entity you want to control
                        icon: 'mdi:string-lights'
                        name: Faretti
                        size: 30%
                        styles:
                          img_cell:
                        # You can adjust padding of the icon
                            - padding-left: 30px
                            - justify-content: start
                          card:
                            - margin: 5px
                            - width: min(25vw, 100px)
                            - height: min(25vw, 100px)
                            - border-radius: 15px
                            - box-shadow: '-5px -5px 10px rgba(50, 50, 50, .2), 6px 6px 10px rgba(0, 0, 0, .08)'
                            - background-color: var(--primary-background-color)
                          icon:
                            - color: var(--primary-text-color)
                          grid:
                            - grid-template-areas: '"i" "n" "s"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: 1fr min-content min-content
                          name:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - padding-left: 15px
                          state:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - opacity: 0.6
                            - padding: 0 15px 5px
                        show_state: true
                        state:
                          - value: 'on'
                            styles:
                              card:
                                - border-width: 2px
                                - box-shadow: 'inset -4px -4px 5px rgba(60, 60, 60, .6), inset 4px 4px 5px rgba(0, 0, 0, .5)'
                                - border-color: var(--paper-item-icon-active-color)
                              icon:
                                - color: var(--paper-item-icon-active-color)
                        tap_action:
                          action: toggle
                          haptic: light
                        hold_action:
                          action: more-info
                          haptic: medium
                      - type: 'custom:button-card'
                        entity: light.led_cucina # Change this to the entity you want to control
                        icon: 'mdi:led-strip-variant'
                        name: Led
                        size: 30%
                        styles:
                          img_cell:
                        # You can adjust padding of the icon
                            - padding-left: 30px
                            - justify-content: start
                          card:
                            - margin: 5px
                            - width: min(25vw, 100px)
                            - height: min(25vw, 100px)
                            - border-radius: 15px
                            - box-shadow: '-5px -5px 10px rgba(50, 50, 50, .2), 6px 6px 10px rgba(0, 0, 0, .08)'
                            - background-color: var(--primary-background-color)
                          icon:
                            - color: var(--primary-text-color)
                          grid:
                            - grid-template-areas: '"i" "n" "s"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: 1fr min-content min-content
                          name:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - padding-left: 15px
                          state:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - opacity: 0.6
                            - padding: 0 15px 5px
                        show_state: true
                        state:
                          - value: 'on'
                            styles:
                              card:
                                - border-width: 2px
                                - box-shadow: 'inset -4px -4px 5px rgba(60, 60, 60, .6), inset 4px 4px 5px rgba(0, 0, 0, .5)'
                                - border-color: var(--paper-item-icon-active-color)
                              icon:
                                - color: var(--paper-item-icon-active-color)
                        tap_action:
                          action: toggle
                          haptic: light
                        hold_action:
                          action: more-info
                          haptic: medium
                      - type: 'custom:button-card'
                        entity: switch.cappa # Change this to the entity you want to control
                        icon: 'mdi:air-filter'
                        name: Cappa
                        size: 30%
                        styles:
                          img_cell:
                        # You can adjust padding of the icon
                            - padding-left: 30px
                            - justify-content: start
                          card:
                            - margin: 5px
                            - width: min(25vw, 100px)
                            - height: min(25vw, 100px)
                            - border-radius: 15px
                            - box-shadow: '-5px -5px 10px rgba(50, 50, 50, .2), 6px 6px 10px rgba(0, 0, 0, .08)'
                            - background-color: var(--primary-background-color)
                          icon:
                            - color: var(--primary-text-color)
                          grid:
                            - grid-template-areas: '"i" "n" "s"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: 1fr min-content min-content
                          name:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - padding-left: 15px
                          state:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - opacity: 0.6
                            - padding: 0 15px 5px
                        show_state: true
                        state:
                          - value: 'on'
                            styles:
                              card:
                                - border-width: 2px
                                - box-shadow: 'inset -4px -4px 5px rgba(60, 60, 60, .6), inset 4px 4px 5px rgba(0, 0, 0, .5)'
                                - border-color: var(--paper-item-icon-active-color)
                              icon:
                                - color: var(--paper-item-icon-active-color)
                        tap_action:
                          action: toggle
                          haptic: light
                        hold_action:
                          action: more-info
                          haptic: medium

                  - type: 'custom:button-card' 
                    entity: switch.ciabatta_tv_main_ch # Change this to the entity you want to control
                    icon: 'mdi:power-plug-outline'
                    name: Multipla
                    size: 30%
                    styles:
                      img_cell:
                    # You can adjust padding of the icon
                        - padding-left: 30px
                        - justify-content: start
                      card:
                        - margin: 5px
                        - width: min(25vw, 100px)
                        - height: min(25vw, 100px)
                        - border-radius: 15px
                        - box-shadow: '-5px -5px 10px rgba(50, 50, 50, .2), 6px 6px 10px rgba(0, 0, 0, .08)'
                        - background-color: var(--primary-background-color)
                      icon:
                        - color: var(--primary-text-color)
                      grid:
                        - grid-template-areas: '"i" "n" "s"'
                        - grid-template-columns: 1fr
                        - grid-template-rows: 1fr min-content min-content
                      name:
                        - justify-self: start
                        - font-weight: bold
                        - font-size: 15px
                        - padding-left: 15px
                      state:
                        - justify-self: start
                        - font-weight: bold
                        - font-size: 15px
                        - opacity: 0.6
                        - padding: 0 15px 5px
                    show_state: true
                    state:
                      - value: 'on'
                        styles:
                          card:
                            - border-width: 2px
                            - box-shadow: 'inset -4px -4px 5px rgba(60, 60, 60, .6), inset 4px 4px 5px rgba(0, 0, 0, .5)'
                            - border-color: var(--paper-item-icon-active-color)
                          icon:
                            - color: var(--paper-item-icon-active-color)
                    tap_action:
                      action: more-info
                      haptic: light       

    ####################################################
    #                                                  #
    #                    GIARDINO                      #
    #                                                  #
    ####################################################

    ### CARD 3    
              - gridarea: card3
                type: vertical-stack
                cards: 
                  - type: markdown
                    content: |
                      # Giardino
                    style:
                      .: |
                        ha-card {
                          --ha-card-background: none !important;
                          box-shadow: none !important;
                        }
                      ha-markdown:
                        $: |
                          h1 {
                            font-size: 20px;
                            font-weight: bold;
                            font-family: Helvetica;
                            letter-spacing: '-0.01em';
                          }

                  - type: horizontal-stack
                    cards:
                      - type: 'custom:button-card'
                        entity: switch.cancello # Change this to the entity you want to control
                        icon: 'mdi:gate'
                        name: Cancello
                        size: 30%
                        styles:
                          img_cell:
                        # You can adjust padding of the icon
                            - padding-left: 30px
                            - justify-content: start
                          card:
                            - margin: 5px
                            - width: min(25vw, 100px)
                            - height: min(25vw, 100px)
                            - border-radius: 15px
                            - box-shadow: '-5px -5px 10px rgba(50, 50, 50, .2), 6px 6px 10px rgba(0, 0, 0, .08)'
                            - background-color: var(--primary-background-color)
                          icon:
                            - color: var(--primary-text-color)
                          grid:
                            - grid-template-areas: '"i" "n" "s"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: 1fr min-content min-content
                          name:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - padding-left: 15px
                          state:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - opacity: 0.6
                            - padding: 0 15px 5px
                        show_state: true
                        state:
                          - value: 'on'
                            styles:
                              card:
                                - border-width: 2px
                                - box-shadow: 'inset -4px -4px 5px rgba(60, 60, 60, .6), inset 4px 4px 5px rgba(0, 0, 0, .5)'
                                - border-color: var(--paper-item-icon-active-color)
                              icon:
                                - color: var(--paper-item-icon-active-color)
                        tap_action:
                          action: toggle
                          haptic: light
                        hold_action:
                          action: more-info
                          haptic: medium
                      - type: 'custom:button-card'
                        entity: light.luce_giardino # Change this to the entity you want to control
                        icon: 'mdi:coach-lamp'
                        name: Luce
                        size: 30%
                        styles:
                          img_cell:
                        # You can adjust padding of the icon
                            - padding-left: 30px
                            - justify-content: start
                          card:
                            - margin: 5px
                            - width: min(25vw, 100px)
                            - height: min(25vw, 100px)
                            - border-radius: 15px
                            - box-shadow: '-5px -5px 10px rgba(50, 50, 50, .2), 6px 6px 10px rgba(0, 0, 0, .08)'
                            - background-color: var(--primary-background-color)
                          icon:
                            - color: var(--primary-text-color)
                          grid:
                            - grid-template-areas: '"i" "n" "s"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: 1fr min-content min-content
                          name:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - padding-left: 15px
                          state:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - opacity: 0.6
                            - padding: 0 15px 5px
                        show_state: true
                        state:
                          - value: 'on'
                            styles:
                              card:
                                - border-width: 2px
                                - box-shadow: 'inset -4px -4px 5px rgba(60, 60, 60, .6), inset 4px 4px 5px rgba(0, 0, 0, .5)'
                                - border-color: var(--paper-item-icon-active-color)
                              icon:
                                - color: var(--paper-item-icon-active-color)
                        tap_action:
                          action: toggle
                          haptic: light
                        hold_action:
                          action: more-info
                          haptic: medium
                
    ####################################################
    #                                                  #
    #                 CAMERA E BAGNO                   #
    #                                                  #
    ####################################################

    ### CARD 4    
              - gridarea: card4
                type: horizontal-stack
                cards:
                  - type: vertical-stack
                    cards:
                      
                    - type: markdown
                      content: |
                        # Camera
                      style:
                        .: |
                          ha-card {
                            --ha-card-background: none !important;
                            box-shadow: none !important;
                          }
                        ha-markdown:
                          $: |
                            h1 {
                              font-size: 20px;
                              font-weight: bold;
                              font-family: Helvetica;
                              letter-spacing: '-0.01em';
                            }

                    - type: vertical-stack
                      cards:
                        - type: 'custom:button-card'
                          entity: light.luce_camera # Change this to the entity you want to control
                          icon: 'mdi:string-lights'
                          name: Luce
                          size: 30%
                          styles:
                            img_cell:
                          # You can adjust padding of the icon
                              - padding-left: 30px
                              - justify-content: start
                            card:
                              - margin: 5px
                              - width: min(25vw, 100px)
                              - height: min(25vw, 100px)
                              - border-radius: 15px
                              - box-shadow: '-5px -5px 10px rgba(50, 50, 50, .2), 6px 6px 10px rgba(0, 0, 0, .08)'
                              - background-color: var(--primary-background-color)
                            icon:
                              - color: var(--primary-text-color)
                            grid:
                              - grid-template-areas: '"i" "n" "s"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: 1fr min-content min-content
                            name:
                              - justify-self: start
                              - font-weight: bold
                              - font-size: 15px
                              - padding-left: 15px
                            state:
                              - justify-self: start
                              - font-weight: bold
                              - font-size: 15px
                              - opacity: 0.6
                              - padding: 0 15px 5px
                          show_state: true
                          state:
                            - value: 'on'
                              styles:
                                card:
                                  - border-width: 2px
                                  - box-shadow: 'inset -4px -4px 5px rgba(60, 60, 60, .6), inset 4px 4px 5px rgba(0, 0, 0, .5)'
                                  - border-color: var(--paper-item-icon-active-color)
                                icon:
                                  - color: var(--paper-item-icon-active-color)
                          tap_action:
                            action: toggle
                            haptic: light
                          hold_action:
                            action: more-info
                            haptic: medium
                        
                        

################################   BAGNO   ########################################

                  - type: vertical-stack
                    cards:
                      - type: markdown
                        content: |
                          # Bagno
                        style:
                          .: |
                            ha-card {
                              --ha-card-background: none !important;
                              box-shadow: none !important;
                            }
                          ha-markdown:
                            $: |
                              h1 {
                                font-size: 20px;
                                font-weight: bold;
                                font-family: Helvetica;
                                letter-spacing: '-0.01em';
                              }

                      - type: 'custom:button-card'
                        entity: light.luce_bagno # Change this to the entity you want to control
                        icon: 'mdi:ceiling-light'
                        name: Luce
                        size: 30%
                        styles:
                          img_cell:
                        # You can adjust padding of the icon
                            - padding-left: 30px
                            - justify-content: start
                          card:
                            - margin: 5px
                            - width: min(25vw, 100px)
                            - height: min(25vw, 100px)
                            - border-radius: 15px
                            - box-shadow: '-5px -5px 10px rgba(50, 50, 50, .2), 6px 6px 10px rgba(0, 0, 0, .08)'
                            - background-color: var(--primary-background-color)
                          icon:
                            - color: var(--primary-text-color)
                          grid:
                            - grid-template-areas: '"i" "n" "s"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: 1fr min-content min-content
                          name:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - padding-left: 15px
                          state:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - opacity: 0.6
                            - padding: 0 15px 5px
                        show_state: true
                        state:
                          - value: 'on'
                            styles:
                              card:
                                - border-width: 2px
                                - box-shadow: 'inset -4px -4px 5px rgba(60, 60, 60, .6), inset 4px 4px 5px rgba(0, 0, 0, .5)'
                                - border-color: var(--paper-item-icon-active-color)
                              icon:
                                - color: var(--paper-item-icon-active-color)
                        tap_action:
                          action: toggle
                          haptic: light
                        hold_action:
                          action: more-info
                          haptic: medium
                    
    ####################################################
    #                                                  #
    #                      STUDIO                      #
    #                                                  #
    ####################################################

    ### CARD 6    
              - gridarea: card6
                type: vertical-stack
                cards:
                  - type: markdown
                    content: |
                      # Studio
                    style:
                      .: |
                        ha-card {
                          --ha-card-background: none !important;
                          box-shadow: none !important;
                        }
                      ha-markdown:
                        $: |
                          h1 {
                            font-size: 20px;
                            font-weight: bold;
                            font-family: Helvetica;
                            letter-spacing: '
                  - type: horizontal-stack
                    cards:
                      - type: 'custom:button-card'
                        entity: light.luce_studio # Change this to the entity you want to control
                        icon: 'mdi:ceiling-light'
                        name: Luce
                        size: 30%
                        styles:
                          img_cell:
                        # You can adjust padding of the icon
                            - padding-left: 30px
                            - justify-content: start
                          card:
                            - margin: 5px
                            - width: min(25vw, 100px)
                            - height: min(25vw, 100px)
                            - border-radius: 15px
                            - box-shadow: '-5px -5px 10px rgba(50, 50, 50, .2), 6px 6px 10px rgba(0, 0, 0, .08)'
                            - background-color: var(--primary-background-color)
                          icon:
                            - color: var(--primary-text-color)
                          grid:
                            - grid-template-areas: '"i" "n" "s"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: 1fr min-content min-content
                          name:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - padding-left: 15px
                          state:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - opacity: 0.6
                            - padding: 0 15px 5px
                        show_state: true
                        state:
                          - value: 'on'
                            styles:
                              card:
                                - border-width: 2px
                                - box-shadow: 'inset -4px -4px 5px rgba(60, 60, 60, .6), inset 4px 4px 5px rgba(0, 0, 0, .5)'
                                - border-color: var(--paper-item-icon-active-color)
                              icon:
                                - color: var(--paper-item-icon-active-color)
                        tap_action:
                          action: toggle
                          haptic: light
                        hold_action:
                          action: more-info
                          haptic: medium
                      - type: 'custom:button-card'
                        entity: sensor.pc
                        icon: 'mdi:microsoft-windows'
                        name: PC
                        size: 30%
                        styles:
                          img_cell:
                        # You can adjust padding of the icon
                            - padding-left: 30px
                            - justify-content: start
                          card:
                            - margin: 5px
                            - width: min(25vw, 100px)
                            - height: min(25vw, 100px)
                            - border-radius: 15px
                            - box-shadow: '-5px -5px 10px rgba(50, 50, 50, .2), 6px 6px 10px rgba(0, 0, 0, .08)'
                            - background-color: var(--primary-background-color)
                          icon:
                            - color: var(--primary-text-color)
                          grid:
                            - grid-template-areas: '"i" "n" "s"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: 1fr min-content min-content
                          name:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - padding-left: 15px
                          state:
                            - justify-self: start
                            - font-weight: bold
                            - font-size: 15px
                            - opacity: 0.6
                            - padding: 0 15px 5px
                        show_state: true
                        state:
                          - value: 'Online'
                            styles:
                              card:
                                - border-width: 2px
                                - box-shadow: 'inset -4px -4px 5px rgba(60, 60, 60, .6), inset 4px 4px 5px rgba(0, 0, 0, .5)'
                                - border-color: var(--paper-item-icon-active-color)
                              icon:
                                - color: var(--paper-item-icon-active-color)
                        tap_action:
                          action: more-info
                          entity: switch.pc_studio # Change this to the entity you want to control
                          haptic: light
                        hold_action:
                          action: more-info
                          entity: input_select.pcoptions # Change this to the entity you want to control
                          haptic: medium
                      - type: vertical-stack
                        cards:
                          - type: markdown
                            content: |
                              # Dispositivi Online:
                            style:
                              .: |
                                ha-card {
                                  --ha-card-background: none !important;
                                  box-shadow: none !important;
                                  height: 30px;
                                }
                              ha-markdown:
                                $: |
                                  h1 {
                                    font-size: 15px;
                                    font-weight: bold;
                                    font-family: Helvetica;
                                    letter-spacing: '-0.01em';
                                  }

                          - type: markdown
                            content: >
                                {% if is_state('sensor.pc', 'Online') %} PC
                                {% else %} {% endif %} 
                                {% if is_state('sensor.ipad', 'Online') %} iPad
                                  {% else %} {% endif %}    
                                {% if is_state('sensor.macbook', 'Online') %} MacBook
                                  {% else %}  {% endif %}
                            style:
                              .: |
                                ha-card {
                                  --ha-card-background: none !important;
                                  box-shadow: none !important;
                                  height: 50px;
                                }
                              ha-markdown:
                                $: |
                                  h1 {
                                    font-size: 12px;
                                    font-weight: thin;
                                    font-family: Helvetica;
                                    letter-spacing: '-0.01em';
                                  }

                                

############################################################################################
############################################################################################
                ###                                                     ###                
                ###                    SIDEBAR                          ###
                ###                                                     ###
############################################################################################
############################################################################################

          - action: none
            hold_action:
              action: none
            image: /local/ui/sidebar/sidebar_xl.png
            style:
              height: 100%
              left: 11.73828125%
              top: 50%
              width: 23.4765625%
            tap_action:
              action: none
            type: image
            

                          #########################    TIME AND DATE    #########################

          - entity: sensor.time
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.7)'
              font-size: 5.41vw
              font-weight: 200
              left: 2.7%
              letter-spacing: '-0.05vw'
              max-width: 1px
              top: 10%
            tap_action:
              action: none
            type: state-label
          - entity: sensor.sidebar_date
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.3)'
              font-size: 1.3vw
              font-weight: 300
              left: 18.1%
              letter-spacing: '-0.05vw'
              text-align: left
              top: 17%
              width: 30%
            tap_action:
              action: none
            type: state-label
          

          #########################    MENU BUTTONS    #########################

          - action: none
            image: /local/ui/sidebar/home_off.png
            style:
              left: 11.7%
              top: 26%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/home
            type: image
          - action: none
            image: /local/ui/sidebar/devices_on.png
            style:
              border-radius: 5vw
              box-shadow: '0px 0.2vw 0.8vw 0px rgba(0,0,0,0.1)'
              left: 11.7%
              top: 34%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/devices
            type: image
          - action: none
            image: /local/ui/sidebar/media_off.png?v=1
            style:
              left: 11.7%
              top: 42%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/media
            type: image
          - action: none
            image: /local/ui/sidebar/clima_off.png
            style:
              left: 11.7%
              top: 50%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/clima
            type: image
          - action: none
            image: /local/ui/sidebar/down_2s.gif
            style:
              left: 11.7%
              top: 58%
              width: 8%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/system
            type: image 


          #########################    People at home    #########################
          #Optional label for people at Home (Hidden with opacity: 0, Visible with opacity: 1)
            
          - style:
              color: white
              font-size: 1vw
              font-weight: 300
              left: 8.8%
              opacity: 1
              top: 66%
              width: 10%
            text: 'In Casa:'
            type: 'custom:text-element'
            
          - action: none
            entity: person.andrea
            state_image:
              home: /local/propic/andre.jpg
              not_home: /local/propic/andregr.jpg
              Lavoro Andre: /local/propic/andregr.jpg
              Casa Pinto: /local/propic/andregr.jpg
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border-radius: 10vw
              height: 4.5vw
              left: 5.8%
              top: 72%
              width: 4.5vw
            tap_action: none
            type: image
              
          - action: none
            entity: person.mary
            state_image:
              home: /local/propic/mary.jpg
              not_home: /local/propic/marygr.jpg
              Lavoro Mary: /local/propic/marygr.jpg
              Casa Pinto: /local/propic/marygr.jpg
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border-radius: 10vw
              height: 4.5vw
              left: 10.8%
              top: 72%
              width: 4.5vw
            tap_action: none
            type: image
            
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 15.9%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 21.1%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image

            
          #########################    Minigraph to show temperature inside and out    #########################

          - color_thresholds:
              - color: '#4dd2ff'
                value: 10
              - color: '#ffa31a'
                value: 15
              - color: '#ff1a1a'
                value: 20
            entities:
              - sensor.daikin_sala_inside_temperature
              - sensor.daikin_sala_outside_temperature
            icon: 'mdi:home-thermometer-outline'
            show:
              icon: true
              legend: false
              name: false
            style: |
              :host {
                left: 11.6%;
                top:  92.9%;
                width: 23.5%;
                overflow: hidden;
                height: 15%;
                background: none  !important;
                box-shadow: none !important;
              }
              .header {
                font-size: 1vw;
                position: absolute !important;
                width: 5% !important;
                padding: 0 !important;
                right: 20% !important;
                top: 15% !important;
              }
              ha-card {
                background: none  !important;
                padding: 0 !important;
              }
              .icon > ha-icon {
                width:1.8vw !important;
                height:1.8vw !important;
              }
              .state__time{
                font-size:0.9vw !important;
                margin-top: 0.2vw;
                font-weight: 300 !important;
                opacity: 0.4 !important;
              }
              .states {
                font-size: 0.5vw !important;
                padding: 1vw 0vw 0vw 0vw  !important;
                margin: auto !important;
                width: 68%;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace/4 #DA MODIFICARE!!!!!!!!!!!!!!!!!!!!!!!!
            type: 'custom:mini-graph-card'
        
        
          #########################    Mini Weather card    #########################
            
          - backdrop: false
            entity: weather.home
            name: ' '
            style: |
              :host {
                left: 11.4%;
                top:  85.5%;
                width: 17%;
                height: 7% !important;
                overflow: hidden;
                height: 8.5vw;
                background: none  !important;
                box-shadow: none !important;
                font-size: 1vw !important;
              }
              ha-card {
                background: none  !important;
                box-shadow: none !important;
                flex-flow: row-reverse !important;
                padding: 0 !important;
              }
              .weather__info--add{
                display : none !important;
              }
              .weather__info{
                flex-grow: 1;
                min-height: 0 !important;
                height: 2.4vw;
                margin-left: 0.6vw;
                margin-top: 0.9vw;
              }
              .weather__icon{
                margin-right:0.5% !important;
                margin-top: -3%;
                width: 2vw !important;
                height: 2vw !important;
                flex: 0 0 2vw !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace/4 #DA CAMBIARE!!!!!!!!!!!!!!!!!
            type: 'custom:simple-weather-card'    
          
          
          #########################    Overlay shadow images    #########################
            
          - action: none
            image: /local/ui/sidebar/sideShadow.png
            style:
              height: 35%
              left: 18.45%
              pointer-events: none
              top: 83%
              width: 10%
            type: image
          - action: none
            image: /local/ui/sidebar/sidebarInnerShadow.png
            style:
              left: 22.83%
              opacity: 0.7
              pointer-events: none
              top: 50%
              width: 1.2109375%
            type: image  
      


    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                                 Media                                                                     #
    #                                                                                                                                           #
    #############################################################################################################################################


  - title: Media
    path: media
    icon: 'mdi:play-circle'
    panel: true
    badges: []
    cards:
      - type: picture-elements
        image: /local/ui/blurredFloorplan.png
        style: |
          upcoming-media-card ha-card{
                  background: none;
                  box-shadow: none !important;
                }
                upcoming-media-card ha-card div:nth-child(2) {
                  padding:0 !important;
                }
                .rece_poster{
                  width: 31% !important;
                  display: inline-block !important;
                  margin: 0% 0.2% !important;
                }
                .rece_svg_poster{
                  position: absolute !important;
                  bottom:-5%;
                  left:0;
                  width: 100% !important;
                }
                .rece_container_poster{
                  width:100% !important;
                  outline: none !important;
                  margin: 1% 1% !important;
                  overflow: hidden;
                }

                .rece_svg_poster > rect{
                  fill:none !important;
                }
                .card-header{
                  font-size: 1vw;
                  padding: 0;
                }
        elements:        

          ###########################################################################
          #                                                                         #
          #                   Apple TV + TV + Media Control                         #
          #                                                                         #
          ###########################################################################
         
          - type: custom:swipe-card
            start_card: 1
            parameters:
              roundLengths: true
              effect: coverflow
              speed: 650
              spaceBetween: 20
              threshold: 7
              coverflowEffect:
                rotate: 80
                depth: 300
            style:
              top: 10%
              left: 45%
              width: 30% #20.97%
              height: 1px
              --ha-card-border-radius: .88vw
            cards:
            
              - type: picture-entity
                entity: media_player.appletv_soggiorno
                image: local/images/netflix1-1.jpg
                tap_action: none
                style: |
                  ha-card {
                    --ha-card-background: none !important;
                    box-shadow: none !important;
                  }    
            
            ##### APPLE TV #####
              - type: conditional
                conditions:
                  - entity: media_player.appletv_soggiorno
                    state_not: "off"
                card:
                  type: picture-elements
                  image: local/images/overlay.svg
                  style: |
                    ha-card {
                      --ha-card-background: none !important;
                      box-shadow: none !important;
                    }                          
                  elements:
                    - aspect_ratio: 1/1
                      entity: media_player.appletv_soggiorno
                      icon: 'mdi:speaker-multiple'
                      label: Google Cast
                      name: Badkamer
                      show_icon: false
                      show_label: false
                      show_last_changed: false
                      show_entity_picture: true
                      show_name: false
                      show_state: false
                      tap_action:
                        action: none
                      style:
                        height: 100%
                        width: 100%
                        top: 50%
                        left: 50%
                      state:
                        - styles:
                            entity_picture:
                              - filter: grayscale(100%) blur(4px)
                              - transition: all 0.5s ease
                          value: paused
                      styles:
                        card:
                          - padding: 0px
                          - background-color: var(--card-background-off) #the color when there is no artwork, change or remove to use own color
                        entity_picture:
                          - border-radius: 20px
                          - height: 100%
                          - width: 100%
                          - position: absolute
                          - transition: all 0.5s ease
                      type: 'custom:button-card'
                    - type: 'custom:mod-card'
                      style:
                        '--mini-media-player-icon-color': var(--text-color) #change or remove to use own color
                        '--mini-media-player-base-color': var(--text-color) #change or remove to use own color
                        '--mini-media-player-accent-color': var(--music-accent-color) #change or remove to use own color
                        border-top-left-radius: 0px !important
                        border-top-right-radius: 0px !important   
                        width: 100%
                        transform: 'translate(0%, -100%'
                      card:
                        artwork: none
                        entity: media_player.appletv_soggiorno
                        group: false
                        # background: /local/images/appletv+.png
                        hide:
                          controls: true
                          icon: false
                          name: false
                          power: true
                          runtime: false
                          source: true
                          volume: true
                        hold_action:
                          action: none
                        tap_action:
                          action: none
                        icon: 'mdi:speaker-multiple'
                        info: scroll
                        source: true
                      # change the styling variable below to the color and width of scrolling info you want. Change height or remove line for default.
                        style: |
                          .mmp-player {          
                            background: rgba(0, 0, 0, 0.75) !important;
                            border-top-left-radius: 0px !important;
                            border-top-right-radius: 0px !important;
                            height: 95px;
                          }      
                          .entity__info {
                            max-width: 60% !important;
                          }                           
                        type: 'custom:mini-media-player'
                      #This here below is if you want to have the option to tap_hold anywhere on the card for more-info popup. Remove this part if not needed.
                    - aspect_ratio: 1.2/1
                      entity: media_player.appletv_soggiorno
                      icon: 'mdi:speaker-multiple'
                      label: Google Cast
                      name: Badkamer
                      show_icon: false
                      show_label: false
                      show_last_changed: false
                      show_entity_picture: false
                      show_name: false
                      show_state: false
                      tap_action:
                        action: none
                      hold_action:
                        action: more-info
                      style:
                        height: 80%
                        width: 100%
                        top: 40%
                        left: 50%
                      styles:
                        card:
                          - filter: opacity(0%)
                      type: 'custom:button-card'
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:skip-next-circle'
                      type: 'custom:button-card'
                      size: 100%
                      entity: media_player.appletv_soggiorno
                      style:
                        right: '-5%'
                        top: 50%
                        height: 25%
                        width: 25%
                      state:
                        - styles:
                            icon:
                              - filter: opacity(100%)
                              - transition: all 0.5s ease
                              - color: '#FFFFFF' #color of button while paused
                          value: paused
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - filter: opacity(30%)
                          - transition: all 0.5s ease
                          - color: var(--music-accent-color) #color of button while playing
                      tap_action:
                        action: call-service
                        service: media_player.media_next_track
                        service_data:
                          entity_id: media_player.appletv_soggiorno
                        haptic: medium
                      hold_action:
                        action: none
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:skip-previous-circle'
                      type: 'custom:button-card'
                      size: 100%
                      entity: media_player.appletv_soggiorno
                      style:
                        right: 55%
                        top: 50%
                        height: 25%
                        width: 25%
                      state:
                        - styles:
                            icon:
                              - filter: opacity(100%)
                              - transition: all 0.5s ease
                              - color: '#FFFFFF' #color of button while paused
                          value: paused
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - filter: opacity(30%)
                          - transition: all 0.5s ease
                          - color: var(--music-accent-color) #color of button while playing
                      tap_action:
                        action: call-service
                        service: media_player.media_previous_track
                        service_data:
                          entity_id: media_player.appletv_soggiorno
                        haptic: medium
                      hold_action:
                        action: none
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:pause-circle'
                      type: 'custom:button-card'
                      size: 100%
                      entity: media_player.appletv_soggiorno
                      style:
                        right: 10%
                        top: 50%
                        height: 40%
                        width: 40%
                      state:
                        - styles:
                            icon:
                              - filter: opacity(100%)
                              - transition: all 0.5s ease
                              - color: '#FFFFFF' #color of button while paused
                          value: paused
                          icon: 'mdi:play-circle'
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - filter: opacity(30%)
                          - transition: all 0.5s ease
                          - color: var(--music-accent-color) #color of button while playing
                      tap_action:
                        action: call-service
                        service: media_player.media_play_pause
                        service_data:
                          entity_id: media_player.appletv_soggiorno
                        haptic: medium
                      hold_action:
                        action: none
                    
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:power-standby'
                      type: 'custom:button-card'
                      size: 90%
                      style:
                        right: 2%
                        top: 88%
                        height: 5%
                        width: 5%
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - color: var(--text-color)
                      tap_action:
                        action: call-service
                        service: media_player.turn_off
                        service_data:
                          entity_id: media_player.appletv_soggiorno
                        haptic: medium
                      hold_action:
                        action: none
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:dots-horizontal-circle'
                      type: 'custom:button-card'
                      size: 90%
                      style:
                        right: 18%
                        top: 88%
                        height: 5%
                        width: 5%
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - color: var(--text-color)
                      tap_action:
                        action: call-service
                        service: browser_mod.more_info
                        service_data:
                          entity_id: media_player.appletv_soggiorno
                          deviceID: this
                        haptic: medium
                      hold_action:
                        action: none


            ##### TV #####         

              - type: conditional
                conditions:
                  - entity: media_player.tv_sala
                    state_not: "off"
                card:
                  type: picture-elements
                  image: local/images/overlay.svg
                  style: |
                    ha-card {
                      --ha-card-background: none !important;
                      box-shadow: none !important;
                    }                          
                  elements:
                    - aspect_ratio: 1/1
                      entity: media_player.tv_sala
                      icon: 'mdi:speaker-multiple'
                      label: Google Cast
                      name: Badkamer
                      show_icon: false
                      show_label: false
                      show_last_changed: false
                      show_entity_picture: true
                      show_name: false
                      show_state: false
                      tap_action:
                        action: none
                      style:
                        height: 100%
                        width: 100%
                        top: 50%
                        left: 50%
                      state:
                        - styles:
                            entity_picture:
                              - filter: grayscale(100%) blur(4px)
                              - transition: all 0.5s ease
                          value: paused
                      styles:
                        card:
                          - padding: 0px
                          - background-color: var(--card-background-off) #the color when there is no artwork, change or remove to use own color
                        entity_picture:
                          - border-radius: 20px
                          - height: 100%
                          - width: 100%
                          - position: absolute
                          - transition: all 0.5s ease
                      type: 'custom:button-card'
                    - type: 'custom:mod-card'
                      style:
                        '--mini-media-player-icon-color': var(--text-color) #change or remove to use own color
                        '--mini-media-player-base-color': var(--text-color) #change or remove to use own color
                        '--mini-media-player-accent-color': var(--music-accent-color) #change or remove to use own color
                        border-top-left-radius: 0px !important
                        border-top-right-radius: 0px !important   
                        width: 100%
                        transform: 'translate(0%, -100%'
                      card:
                        artwork: none
                        entity: media_player.tv_sala
                        group: false
                        # background: /local/images/appletv+.png
                        hide:
                          controls: true
                          icon: false
                          name: false
                          power: true
                          runtime: false
                          source: true
                          volume: true
                        hold_action:
                          action: none
                        tap_action:
                          action: none
                        icon: 'mdi:speaker-multiple'
                        info: scroll
                        source: true
                      # change the styling variable below to the color and width of scrolling info you want. Change height or remove line for default.
                        style: |
                          .mmp-player {          
                            background: rgba(0, 0, 0, 0.75) !important;
                            border-top-left-radius: 0px !important;
                            border-top-right-radius: 0px !important;
                            height: 95px;
                          }      
                          .entity__info {
                            max-width: 60% !important;
                          }                           
                        type: 'custom:mini-media-player'
                      #This here below is if you want to have the option to tap_hold anywhere on the card for more-info popup. Remove this part if not needed.
                    - aspect_ratio: 1.2/1
                      entity: media_player.tv_sala
                      icon: 'mdi:speaker-multiple'
                      label: Google Cast
                      name: Badkamer
                      show_icon: false
                      show_label: false
                      show_last_changed: false
                      show_entity_picture: false
                      show_name: false
                      show_state: false
                      tap_action:
                        action: none
                      hold_action:
                        action: more-info
                      style:
                        height: 80%
                        width: 100%
                        top: 40%
                        left: 50%
                      styles:
                        card:
                          - filter: opacity(0%)
                      type: 'custom:button-card'
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:skip-next-circle'
                      type: 'custom:button-card'
                      size: 100%
                      entity: media_player.tv_sala
                      style:
                        right: '-5%'
                        top: 50%
                        height: 25%
                        width: 25%
                      state:
                        - styles:
                            icon:
                              - filter: opacity(100%)
                              - transition: all 0.5s ease
                              - color: '#FFFFFF' #color of button while paused
                          value: paused
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - filter: opacity(30%)
                          - transition: all 0.5s ease
                          - color: var(--music-accent-color) #color of button while playing
                      tap_action:
                        action: call-service
                        service: media_player.media_next_track
                        service_data:
                          entity_id: media_player.tv_sala
                        haptic: medium
                      hold_action:
                        action: none
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:skip-previous-circle'
                      type: 'custom:button-card'
                      size: 100%
                      entity: media_player.tv_sala
                      style:
                        right: 55%
                        top: 50%
                        height: 25%
                        width: 25%
                      state:
                        - styles:
                            icon:
                              - filter: opacity(100%)
                              - transition: all 0.5s ease
                              - color: '#FFFFFF' #color of button while paused
                          value: paused
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - filter: opacity(30%)
                          - transition: all 0.5s ease
                          - color: var(--music-accent-color) #color of button while playing
                      tap_action:
                        action: call-service
                        service: media_player.media_previous_track
                        service_data:
                          entity_id: media_player.tv_sala
                        haptic: medium
                      hold_action:
                        action: none
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:pause-circle'
                      type: 'custom:button-card'
                      size: 100%
                      entity: media_player.tv_sala
                      style:
                        right: 10%
                        top: 50%
                        height: 40%
                        width: 40%
                      state:
                        - styles:
                            icon:
                              - filter: opacity(100%)
                              - transition: all 0.5s ease
                              - color: '#FFFFFF' #color of button while paused
                          value: paused
                          icon: 'mdi:play-circle'
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - filter: opacity(30%)
                          - transition: all 0.5s ease
                          - color: var(--music-accent-color) #color of button while playing
                      tap_action:
                        action: call-service
                        service: media_player.media_play_pause
                        service_data:
                          entity_id: media_player.tv_sala
                        haptic: medium
                      hold_action:
                        action: none
                    
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:power-standby'
                      type: 'custom:button-card'
                      size: 90%
                      style:
                        right: 2%
                        top: 88%
                        height: 5%
                        width: 5%
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - color: var(--text-color)
                      tap_action:
                        action: call-service
                        service: media_player.turn_off
                        service_data:
                          entity_id: media_player.tv_sala
                        haptic: medium
                      hold_action:
                        action: none
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:dots-horizontal-circle'
                      type: 'custom:button-card'
                      size: 90%
                      style:
                        right: 18%
                        top: 88%
                        height: 5%
                        width: 5%
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - color: var(--text-color)
                      tap_action:
                        action: call-service
                        service: browser_mod.more_info
                        service_data:
                          entity_id: media_player.tv_sala
                          deviceID: this
                        haptic: medium
                      hold_action:
                        action: none  


            ##### MEDIA CONTROLS #####

              - type: picture-elements
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' /%3E"
                elements:
                  
                  # APPLE TV 
                  - type: custom:button-card
                    entity: media_player.appletv_soggiorno
                    custom_fields:
                      icon:  &icon_apple_tv >
                        <svg viewBox="0 0 50 50"><path d="M25.2 49.7l-13.7-.1c-2.4 0-4.6-.8-6.5-2.2-2-1.6-3.6-3.6-4.3-6.2-.2-1-.2-1.9-.3-3V11.5C.5 7.9 1.9 5 4.8 2.7 6.2 1.6 7.8.8 9.6.5c.5-.1.9-.1 1.4-.1L27.5.3l10.9.1c2.6 0 4.8.8 6.7 2.4 2.1 1.7 3.7 3.9 4.2 6.6l.2 2.4.1 20.5-.1 6.7c-.1 2.2-.9 4.2-2.2 5.9-1.7 2.2-4 3.8-6.8 4.4-.6.1-1.2.2-1.9.2-.1.1-13.4.2-13.4.2zm-4-27.8c-.9-1.2-2.2-1.6-3.7-1.2-.4.1-.8.2-1.2.4-.3.1-.6.1-.8 0-.4-.1-.8-.3-1.2-.4-.3-.1-.7-.1-1-.1-1.5.2-2.4 1.1-3 2.6-.4 1.1-.3 2.2 0 3.5.4 1.5 1 2.9 2.1 4 .5.6 1.2.9 2 .6 1.1-.5 2.2-.5 3.4 0 .8.3 1.5 0 2.1-.6.7-.8 1.1-1.8 1.6-2.8v-.2c-1-.6-1.7-1.4-1.8-2.7-.2-1.4.5-2.4 1.5-3.1zm9.9-1.4c.1.2.1.3.1.4l3.6 9.5c.1.3.3.4.6.4h.7c.6 0 .6 0 .9-.6l3.7-9.4c.1-.1.1-.3.2-.5H39l-2.9 8.3-3.1-8.3-1.9.2zM27.3 18l-1.3.4c-.5.2-.5.2-.6.7v1.4h-1.6l.1 1.4h1.5v5c0 .7.1 1.4.2 2.1.1.5.3 1 .8 1.4.8.6 2.6.7 3.5.2l-.1-1.2h-1.3c-.5 0-.9-.3-1-.8-.1-.3-.2-.6-.2-1v-5.8H30c0-.5.1-1 0-1.4h-2.7V18zm-8.8-.9c-1.9.3-3 2-2.7 3.2 1.4.2 2.9-1.7 2.7-3.2z"/></svg>
                    style:
                      top: 23.9%
                      left: 23.8%
                      width: 47.7%
                    template: media

                  # TV SALA
                  - type: custom:button-card
                    entity: media_player.tv_sala
                    custom_fields:
                      icon: &icon_tv >
                        <svg viewBox="0 0 480 480"><path d="M480 368V64H0v304h184v32h-56v16h240v-16h-72v-32h184zm-200 32h-80v-32h80v32zM16 352V80h448v272H16z"/></svg>
                    style:
                      top: 23.9%
                      left: 76.2%
                      width: 47.7%
                    template: media

                  # SPEAKER SALA
                  - type: custom:button-card
                    entity: media_player.sala
                    name: Speaker Sala
                    custom_fields:
                      icon: &icon_echo_dot >
                        <svg viewBox="0 0 512 512"><path d="M256 0C114.613 0 0 114.613 0 256s114.613 256 256 256 256-114.613 256-256C511.84 114.68 397.32.16 256 0zm0 494.934C124.04 494.934 17.066 387.96 17.066 256S124.04 17.066 256 17.066 494.934 124.04 494.934 256C494.785 387.898 387.898 494.785 256 494.934zM256 51.2a8.54 8.54 0 0 0 8.535-8.531v-8.535A8.54 8.54 0 0 0 256 25.602a8.54 8.54 0 0 0-8.535 8.531v8.535A8.54 8.54 0 0 0 256 51.199zm0 0"/><path d="M256 460.8a8.54 8.54 0 0 0-8.535 8.531v8.535a8.54 8.54 0 0 0 8.535 8.531 8.54 8.54 0 0 0 8.535-8.531v-8.535A8.54 8.54 0 0 0 256 460.8zM218.945 54.44a9.04 9.04 0 0 0 1.488-.125 8.52 8.52 0 0 0 5.508-3.508c1.3-1.852 1.8-4.145 1.418-6.375l-1.48-8.4c-.527-3-2.617-5.496-5.48-6.54a8.53 8.53 0 0 0-8.406 1.473c-2.336 1.96-3.453 5.016-2.926 8.02l1.48 8.406a8.54 8.54 0 0 0 8.398 7.06zm0 0"/><path d="M291.566 457.684a8.52 8.52 0 0 0-5.508 3.508 8.53 8.53 0 0 0-1.418 6.375l1.48 8.4a8.54 8.54 0 0 0 8.395 7.06c.5-.004.996-.043 1.488-.13 2.23-.4 4.2-1.652 5.512-3.504a8.54 8.54 0 0 0 1.418-6.379l-1.48-8.406c-.816-4.645-5.242-7.746-9.887-6.934zM188.133 44.6a8.52 8.52 0 0 0-6.539-5.477 8.54 8.54 0 0 0-8.02 2.922c-1.957 2.34-2.52 5.543-1.473 8.406l2.918 8.016a8.53 8.53 0 0 0 6.543 5.48c3.004.527 6.06-.586 8.016-2.926a8.54 8.54 0 0 0 1.477-8.402zm0 0"/><path d="M336.98 453.543c-1.613-4.43-6.512-6.707-10.94-5.094s-6.707 6.516-5.1 10.94l2.918 8.02a8.55 8.55 0 0 0 10.94 5.1c4.424-1.607 6.7-6.516 5.094-10.94zM141.94 75.52a8.54 8.54 0 0 0 14.78 0c1.523-2.64 1.527-5.9.004-8.53l-4.27-7.395c-2.355-4.082-7.574-5.48-11.656-3.125a8.54 8.54 0 0 0-3.125 11.66zm0 0"/><path d="M370.06 436.48a8.54 8.54 0 0 0-14.78 0c-1.523 2.64-1.527 5.9-.004 8.53l4.27 7.395c2.355 4.082 7.574 5.48 11.656 3.125a8.54 8.54 0 0 0 3.125-11.66zM112.332 98.06a8.54 8.54 0 0 0 11.941.957c3.574-2.996 4.078-8.305 1.137-11.922l-5.484-6.54a8.53 8.53 0 0 0-11.953-.973 8.54 8.54 0 0 0-1.121 11.941zm0 0"/><path d="M399.668 413.94a8.54 8.54 0 0 0-11.941-.957c-3.574 2.996-4.078 8.305-1.137 11.922l5.484 6.535a8.53 8.53 0 0 0 11.953.973c3.578-3.004 4.078-8.324 1.12-11.937zM87.094 125.4a8.53 8.53 0 0 0 14.004-5.004c.52-3.04-.64-6.12-3.03-8.066l-6.535-5.488a8.54 8.54 0 0 0-8.477-1.61 8.53 8.53 0 0 0-5.547 6.605c-.52 3.042.648 6.13 3.047 8.07zm0 0"/><path d="M424.906 386.6a8.53 8.53 0 0 0-14.004 5.004c-.52 3.04.64 6.12 3.03 8.066l6.535 5.488a8.54 8.54 0 0 0 8.477 1.61c2.91-1.035 5.027-3.562 5.547-6.605s-.648-6.13-3.047-8.07zM59.6 152.457l7.4 4.27c4.082 2.355 9.3.957 11.656-3.125a8.54 8.54 0 0 0-3.125-11.66l-7.387-4.266a8.54 8.54 0 0 0-8.535 0c-2.64 1.523-4.266 4.344-4.266 7.4a8.53 8.53 0 0 0 4.266 7.391zm0 0"/><path d="M452.4 359.543l-7.4-4.27c-2.64-1.523-5.895-1.523-8.53.004a8.55 8.55 0 0 0-4.27 7.39c0 3.05 1.63 5.867 4.27 7.4l7.387 4.266a8.54 8.54 0 0 0 8.535 0c2.64-1.523 4.266-4.344 4.266-7.4a8.53 8.53 0 0 0-4.266-7.391zm-407.802-171.4l8.02 2.918c2.887 1.137 6.164.617 8.555-1.355a8.53 8.53 0 0 0 2.965-8.141 8.54 8.54 0 0 0-5.684-6.535l-8.02-2.918a8.54 8.54 0 0 0-8.547 1.363c-2.4 1.973-3.523 5.086-2.96 8.133a8.54 8.54 0 0 0 5.672 6.54zm0 0"/><path d="M467.402 323.867l-8.02-2.918c-2.887-1.137-6.164-.617-8.555 1.355a8.53 8.53 0 0 0-2.965 8.141 8.54 8.54 0 0 0 5.684 6.535l8.02 2.918a8.54 8.54 0 0 0 8.547-1.363c2.4-1.973 3.523-5.086 2.96-8.133a8.54 8.54 0 0 0-5.672-6.54zM36.02 225.88l8.406 1.48c.492.1.992.137 1.492.137a8.53 8.53 0 0 0 1.473-16.934l-8.402-1.484c-3.043-.63-6.2.445-8.2 2.805s-2.598 5.637-1.508 8.547a8.54 8.54 0 0 0 6.75 5.45zm0 0"/><path d="M475.98 286.12l-8.406-1.48c-3.04-.625-6.18.453-8.2 2.813a8.54 8.54 0 0 0-1.508 8.535c1.1 2.906 3.672 4.996 6.742 5.45l8.402 1.484a8.31 8.31 0 0 0 1.492.133 8.53 8.53 0 0 0 8.469-7.793c.383-4.398-2.648-8.36-6.992-9.14zM42.668 264.535A8.54 8.54 0 0 0 51.199 256a8.54 8.54 0 0 0-8.531-8.535h-8.535A8.54 8.54 0 0 0 25.602 256a8.54 8.54 0 0 0 8.531 8.535zm0 0"/><path d="M469.332 247.465a8.54 8.54 0 0 0-8.531 8.535 8.54 8.54 0 0 0 8.531 8.535h8.535a8.54 8.54 0 0 0 8.531-8.535 8.54 8.54 0 0 0-8.531-8.535zM54.313 291.56c-.387-2.234-1.648-4.22-3.504-5.516a8.49 8.49 0 0 0-6.383-1.402l-8.406 1.484a8.53 8.53 0 0 0 1.477 16.933 8.31 8.31 0 0 0 1.492-.133l8.402-1.484c4.64-.82 7.738-5.242 6.922-9.883zm0 0"/><path d="M457.688 220.44c.72 4.074 4.258 7.047 8.395 7.05a8.31 8.31 0 0 0 1.492-.133l8.406-1.484c3.074-.453 5.66-2.54 6.75-5.45s.516-6.184-1.508-8.543a8.53 8.53 0 0 0-8.211-2.809l-8.402 1.484c-4.64.82-7.738 5.242-6.922 9.883zM63.555 326.05c-.773-2.13-2.363-3.86-4.414-4.816a8.53 8.53 0 0 0-6.523-.285l-8.023 2.918c-2.926.992-5.1 3.496-5.648 6.54a8.54 8.54 0 0 0 11.488 9.492l8.02-2.914a8.54 8.54 0 0 0 5.102-10.934zm0 0"/><path d="M448.445 185.95c.773 2.13 2.36 3.863 4.4 4.816a8.54 8.54 0 0 0 6.527.285l8.023-2.918c2.926-.992 5.1-3.496 5.648-6.54a8.54 8.54 0 0 0-11.488-9.492l-8.02 2.914a8.54 8.54 0 0 0-5.102 10.934zM78.633 358.398c-1.13-1.96-2.992-3.395-5.176-3.98a8.53 8.53 0 0 0-6.477.855l-7.4 4.27c-4.082 2.355-5.48 7.574-3.125 11.656a8.54 8.54 0 0 0 11.66 3.125l7.387-4.266c1.96-1.133 3.4-2.996 3.977-5.184a8.53 8.53 0 0 0-.855-6.477zm0 0"/><path d="M433.367 153.602a8.54 8.54 0 0 0 11.652 3.125l7.4-4.27c4.082-2.355 5.48-7.574 3.125-11.656a8.54 8.54 0 0 0-11.66-3.125l-7.387 4.266c-1.96 1.133-3.4 2.996-3.977 5.184a8.53 8.53 0 0 0 .855 6.477zM87.094 386.6l-6.54 5.492a8.54 8.54 0 0 0 2.508 14.664 8.54 8.54 0 0 0 8.469-1.598l6.535-5.488c2.4-1.945 3.55-5.027 3.03-8.066a8.53 8.53 0 0 0-14.004-5.004zm0 0"/><path d="M413.934 112.34c-2.4 1.945-3.55 5.027-3.03 8.066a8.53 8.53 0 0 0 14.004 5.004l6.54-5.492a8.54 8.54 0 0 0-2.508-14.664 8.54 8.54 0 0 0-8.469 1.598zm-301.602 301.6l-5.48 6.535a8.53 8.53 0 0 0-1.484 8.402c1.043 2.862 3.535 4.957 6.54 5.484a8.53 8.53 0 0 0 8.02-2.918l5.484-6.535c2.94-3.617 2.438-8.926-1.137-11.922a8.54 8.54 0 0 0-11.941.957zm0 0"/><path d="M393.125 101.1c2.523.004 4.922-1.113 6.543-3.05l5.48-6.535a8.53 8.53 0 0 0-1.051-12.02c-3.6-3.03-8.992-2.56-12.023 1.05L386.6 87.1c-2.13 2.54-2.594 6.082-1.195 9.086a8.54 8.54 0 0 0 7.73 4.93zM153.602 433.36a8.54 8.54 0 0 0-11.66 3.125l-4.266 7.4a8.54 8.54 0 0 0 3.125 11.66c4.082 2.355 9.3.957 11.656-3.125l4.27-7.395a8.54 8.54 0 0 0-3.125-11.656zm0 0"/><path d="M358.398 78.64c4.082 2.355 9.3.957 11.66-3.12l4.266-7.4a8.54 8.54 0 0 0-3.125-11.66c-4.082-2.355-9.3-.957-11.656 3.125L355.273 67c-2.352 4.082-.953 9.297 3.125 11.652zm-172.44 369.8a8.55 8.55 0 0 0-10.937 5.094l-2.918 8.02c-1.617 4.43.664 9.328 5.1 10.94a8.53 8.53 0 0 0 10.94-5.1l2.922-8.02c.777-2.125.676-4.473-.28-6.527s-2.687-3.645-4.816-4.418zm0 0"/><path d="M326.043 63.55a8.53 8.53 0 0 0 10.938-5.094l2.922-8.016c1.617-4.426-.664-9.324-5.094-10.94a8.53 8.53 0 0 0-10.94 5.1l-2.918 8.02a8.53 8.53 0 0 0 .277 6.523 8.54 8.54 0 0 0 4.816 4.418zm-105.61 394.134c-4.645-.812-9.066 2.293-9.883 6.934l-1.48 8.406c-.816 4.645 2.285 9.066 6.926 9.883.492.086.988.125 1.488.13 4.14-.008 7.68-2.98 8.395-7.06l1.48-8.4a8.53 8.53 0 0 0-1.418-6.375 8.52 8.52 0 0 0-5.508-3.508zm0 0"/><path d="M291.566 54.316a9.04 9.04 0 0 0 1.488.125c4.14-.008 7.68-2.98 8.395-7.06l1.484-8.406c.527-3.004-.6-6.06-2.926-8.02a8.53 8.53 0 0 0-8.406-1.473c-2.863 1.043-4.953 3.54-5.48 6.54l-1.477 8.4a8.53 8.53 0 0 0 6.922 9.883zM262.06 262.06a8.44 8.44 0 0 0 1.793-9.301 7.69 7.69 0 0 0-4.609-4.609 8.52 8.52 0 0 0-9.301 1.793c-.773.816-1.38 1.77-1.793 2.816-1.535 3.754-.215 8.074 3.156 10.332a8.54 8.54 0 0 0 10.754-1.03zm0 0"/><path d="M256 68.266c-32.988 0-59.734 26.746-59.734 59.734s26.746 59.734 59.734 59.734 59.734-26.746 59.734-59.734c-.04-32.973-26.762-59.695-59.734-59.734zm0 102.402c-23.562 0-42.668-19.105-42.668-42.668S232.438 85.332 256 85.332s42.668 19.105 42.668 42.668c-.027 23.55-19.117 42.64-42.668 42.668zm17.066-51.203h-8.53v-8.53a8.54 8.54 0 0 0-8.535-8.535 8.54 8.54 0 0 0-8.535 8.535v8.53h-8.53a8.54 8.54 0 0 0-8.535 8.535 8.54 8.54 0 0 0 8.535 8.535h8.53v8.53a8.54 8.54 0 0 0 8.535 8.535 8.54 8.54 0 0 0 8.535-8.535v-8.53h8.53a8.54 8.54 0 0 0 8.535-8.535 8.54 8.54 0 0 0-8.535-8.535zM256 324.266c-32.988 0-59.734 26.746-59.734 59.734s26.746 59.734 59.734 59.734 59.734-26.746 59.734-59.734c-.04-32.973-26.762-59.695-59.734-59.734zm0 102.402c-23.562 0-42.668-19.105-42.668-42.668s19.105-42.668 42.668-42.668 42.668 19.105 42.668 42.668c-.027 23.55-19.117 42.64-42.668 42.668zM443.734 256c0-32.988-26.746-59.734-59.734-59.734S324.266 223.012 324.266 256s26.746 59.734 59.734 59.734c32.973-.04 59.695-26.762 59.734-59.734zM384 298.668c-23.562 0-42.668-19.105-42.668-42.668s19.105-42.668 42.668-42.668 42.668 19.105 42.668 42.668c-.027 23.55-19.117 42.64-42.668 42.668zm0 0"/><path d="M128 196.266c-32.988 0-59.734 26.746-59.734 59.734S95.012 315.734 128 315.734s59.734-26.746 59.734-59.734c-.04-32.973-26.762-59.695-59.734-59.734zm0 102.402c-23.562 0-42.668-19.105-42.668-42.668s19.105-42.668 42.668-42.668 42.668 19.105 42.668 42.668c-.027 23.55-19.117 42.64-42.668 42.668zm145.066 76.797h-34.133a8.54 8.54 0 0 0-8.535 8.535 8.54 8.54 0 0 0 8.535 8.535h34.133a8.54 8.54 0 0 0 8.535-8.535 8.54 8.54 0 0 0-8.535-8.535zm0 0"/><path d="M390.06 249.94a8.86 8.86 0 0 0-2.816-1.793c-3.18-1.297-6.828-.594-9.3 1.793-.773.816-1.38 1.77-1.793 2.816a8.46 8.46 0 0 0 1.793 9.301c.828.754 1.78 1.36 2.816 1.793 2.625 1.125 5.637.848 8.016-.738a8.45 8.45 0 0 0 3.762-7.113c.027-1.12-.207-2.23-.684-3.242-.434-1.035-1.04-1.984-1.793-2.816zM128 247.465a8.54 8.54 0 0 0 8.535-8.531V230.4a8.54 8.54 0 0 0-8.535-8.531 8.54 8.54 0 0 0-8.535 8.531v8.535a8.54 8.54 0 0 0 8.535 8.531zm0 0"/><path d="M145.066 247.465a8.54 8.54 0 0 0-8.531 8.535 8.54 8.54 0 0 1-8.535 8.535 8.54 8.54 0 0 1-8.535-8.535 8.54 8.54 0 0 0-8.531-8.535 8.54 8.54 0 0 0-8.535 8.535 25.57 25.57 0 0 0 17.066 24.027v1.574a8.54 8.54 0 0 0 8.535 8.531 8.54 8.54 0 0 0 8.535-8.531v-1.574A25.57 25.57 0 0 0 153.602 256a8.54 8.54 0 0 0-8.535-8.535zm0 0"/></svg>
                    style:
                      top: 76.2%
                      left: 23.8%
                      width: 47.7%
                    template: media    

                  # SPEAKER CASA
                  - type: custom:button-card
                    entity: media_player.ovunque
                    name: Speaker Casa
                    custom_fields:
                      icon: *icon_echo_dot
                    style:
                      top: 76.2%
                      left: 76.2%
                      width: 47.7%
                    template: media          

          ###########################################################################
          #                                                                         #
          #                     Speaker Sala + Speaker Casa                         #
          #                                                                         #
          ###########################################################################
         
          - type: custom:swipe-card
            start_card: 1
            parameters:
              roundLengths: true
              effect: coverflow
              speed: 650
              spaceBetween: 20
              threshold: 7
              coverflowEffect:
                rotate: 80
                depth: 300
            style:
              top: 55%
              left: 45%
              width: 30% #20.97%
              height: 1px
              --ha-card-border-radius: .88vw
            cards:
            
              - type: picture-entity
                entity: media_player.sala
                image: local/images/musica1_1.jpg
                tap_action: none
                style: |
                  ha-card {
                    --ha-card-background: none !important;
                    box-shadow: none !important;
                  }    
            
            ##### SPEAKER SALA #####
              - type: conditional
                conditions:
                  - entity: media_player.sala
                    state_not: "standby"
                card:
                  type: picture-elements
                  image: local/images/overlay.svg
                  style: |
                    ha-card {
                      --ha-card-background: none !important;
                      box-shadow: none !important;
                    }                          
                  elements:
                    - aspect_ratio: 1/1
                      entity: media_player.sala
                      icon: 'mdi:speaker-multiple'
                      label: Google Cast
                      name: Badkamer
                      show_icon: false
                      show_label: false
                      show_last_changed: false
                      show_entity_picture: true
                      show_name: false
                      show_state: false
                      tap_action:
                        action: none
                      style:
                        height: 100%
                        width: 100%
                        top: 50%
                        left: 50%
                      state:
                        - styles:
                            entity_picture:
                              - filter: grayscale(100%) blur(4px)
                              - transition: all 0.5s ease
                          value: paused
                      styles:
                        card:
                          - padding: 0px
                          - background-color: var(--card-background-off) #the color when there is no artwork, change or remove to use own color
                        entity_picture:
                          - border-radius: 20px
                          - height: 100%
                          - width: 100%
                          - position: absolute
                          - transition: all 0.5s ease
                      type: 'custom:button-card'
                    - type: 'custom:mod-card'
                      style:
                        '--mini-media-player-icon-color': var(--text-color) #change or remove to use own color
                        '--mini-media-player-base-color': var(--text-color) #change or remove to use own color
                        '--mini-media-player-accent-color': var(--music-accent-color) #change or remove to use own color
                        border-top-left-radius: 0px !important
                        border-top-right-radius: 0px !important   
                        width: 100%
                        transform: 'translate(0%, -100%'
                      card:
                        artwork: none
                        entity: media_player.sala
                        group: false
                        hide:
                          controls: true
                          icon: false
                          name: false
                          power: true
                          runtime: false
                          source: true
                          volume: true
                        hold_action:
                          action: none
                        tap_action:
                          action: none
                        icon: 'mdi:speaker-multiple'
                        info: scroll
                        source: true
                      # change the styling variable below to the color and width of scrolling info you want. Change height or remove line for default.
                        style: |
                          .mmp-player {          
                            background: rgba(0, 0, 0, 0.75) !important;
                            border-top-left-radius: 0px !important;
                            border-top-right-radius: 0px !important;
                            height: 95px;
                          }      
                          .entity__info {
                            max-width: 60% !important;
                          }                           
                        type: 'custom:mini-media-player'
                      #This here below is if you want to have the option to tap_hold anywhere on the card for more-info popup. Remove this part if not needed.
                    - aspect_ratio: 1.2/1
                      entity: media_player.sala
                      icon: 'mdi:speaker-multiple'
                      label: Google Cast
                      name: Badkamer
                      show_icon: false
                      show_label: false
                      show_last_changed: false
                      show_entity_picture: false
                      show_name: false
                      show_state: false
                      tap_action:
                        action: none
                      hold_action:
                        action: more-info
                      style:
                        height: 80%
                        width: 100%
                        top: 40%
                        left: 50%
                      styles:
                        card:
                          - filter: opacity(0%)
                      type: 'custom:button-card'
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:skip-next-circle'
                      type: 'custom:button-card'
                      size: 100%
                      entity: media_player.sala
                      style:
                        right: '-5%'
                        top: 50%
                        height: 25%
                        width: 25%
                      state:
                        - styles:
                            icon:
                              - filter: opacity(100%)
                              - transition: all 0.5s ease
                              - color: '#FFFFFF' #color of button while paused
                          value: paused
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - filter: opacity(30%)
                          - transition: all 0.5s ease
                          - color: var(--music-accent-color) #color of button while playing
                      tap_action:
                        action: call-service
                        service: media_player.media_next_track
                        service_data:
                          entity_id: media_player.sala
                        haptic: medium
                      hold_action:
                        action: none
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:skip-previous-circle'
                      type: 'custom:button-card'
                      size: 100%
                      entity: media_player.sala
                      style:
                        right: 55%
                        top: 50%
                        height: 25%
                        width: 25%
                      state:
                        - styles:
                            icon:
                              - filter: opacity(100%)
                              - transition: all 0.5s ease
                              - color: '#FFFFFF' #color of button while paused
                          value: paused
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - filter: opacity(30%)
                          - transition: all 0.5s ease
                          - color: var(--music-accent-color) #color of button while playing
                      tap_action:
                        action: call-service
                        service: media_player.media_previous_track
                        service_data:
                          entity_id: media_player.sala
                        haptic: medium
                      hold_action:
                        action: none
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:pause-circle'
                      type: 'custom:button-card'
                      size: 100%
                      entity: media_player.sala
                      style:
                        right: 10%
                        top: 50%
                        height: 40%
                        width: 40%
                      state:
                        - styles:
                            icon:
                              - filter: opacity(100%)
                              - transition: all 0.5s ease
                              - color: '#FFFFFF' #color of button while paused
                          value: paused
                          icon: 'mdi:play-circle'
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - filter: opacity(30%)
                          - transition: all 0.5s ease
                          - color: var(--music-accent-color) #color of button while playing
                      tap_action:
                        action: call-service
                        service: media_player.media_play_pause
                        service_data:
                          entity_id: media_player.sala
                        haptic: medium
                      hold_action:
                        action: none
                    
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:power-standby'
                      type: 'custom:button-card'
                      size: 90%
                      style:
                        right: 2%
                        top: 88%
                        height: 5%
                        width: 5%
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - color: var(--text-color)
                      tap_action:
                        action: call-service
                        service: media_player.turn_off
                        service_data:
                          entity_id: media_player.sala
                        haptic: medium
                      hold_action:
                        action: none
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:dots-horizontal-circle'
                      type: 'custom:button-card'
                      size: 90%
                      style:
                        right: 18%
                        top: 88%
                        height: 5%
                        width: 5%
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - color: var(--text-color)
                      tap_action:
                        action: call-service
                        service: browser_mod.more_info
                        service_data:
                          entity_id: media_player.sala
                          deviceID: this
                        haptic: medium
                      hold_action:
                        action: none


            ##### SPEAKER CASA #####         

              - type: conditional
                conditions:
                  - entity: media_player.ovunque
                    state_not: "standby"
                card:
                  type: picture-elements
                  image: local/images/overlay.svg
                  style: |
                    ha-card {
                      --ha-card-background: none !important;
                      box-shadow: none !important;
                    }                          
                  elements:
                    - aspect_ratio: 1/1
                      entity: media_player.tv_sala
                      icon: 'mdi:speaker-multiple'
                      label: Google Cast
                      name: Badkamer
                      show_icon: false
                      show_label: false
                      show_last_changed: false
                      show_entity_picture: true
                      show_name: false
                      show_state: false
                      tap_action:
                        action: none
                      style:
                        height: 100%
                        width: 100%
                        top: 50%
                        left: 50%
                      state:
                        - styles:
                            entity_picture:
                              - filter: grayscale(100%) blur(4px)
                              - transition: all 0.5s ease
                          value: paused
                      styles:
                        card:
                          - padding: 0px
                          - background-color: var(--card-background-off) #the color when there is no artwork, change or remove to use own color
                        entity_picture:
                          - border-radius: 20px
                          - height: 100%
                          - width: 100%
                          - position: absolute
                          - transition: all 0.5s ease
                      type: 'custom:button-card'
                    - type: 'custom:mod-card'
                      style:
                        '--mini-media-player-icon-color': var(--text-color) #change or remove to use own color
                        '--mini-media-player-base-color': var(--text-color) #change or remove to use own color
                        '--mini-media-player-accent-color': var(--music-accent-color) #change or remove to use own color
                        border-top-left-radius: 0px !important
                        border-top-right-radius: 0px !important   
                        width: 100%
                        transform: 'translate(0%, -100%'
                      card:
                        artwork: none
                        entity: media_player.ovunque
                        group: false
                        hide:
                          controls: true
                          icon: false
                          name: false
                          power: true
                          runtime: false
                          source: true
                          volume: true
                        hold_action:
                          action: none
                        tap_action:
                          action: none
                        icon: 'mdi:speaker-multiple'
                        info: scroll
                        source: true
                      # change the styling variable below to the color and width of scrolling info you want. Change height or remove line for default.
                        style: |
                          .mmp-player {          
                            background: rgba(0, 0, 0, 0.75) !important;
                            border-top-left-radius: 0px !important;
                            border-top-right-radius: 0px !important;
                            height: 95px;
                          }      
                          .entity__info {
                            max-width: 60% !important;
                          }                           
                        type: 'custom:mini-media-player'
                      #This here below is if you want to have the option to tap_hold anywhere on the card for more-info popup. Remove this part if not needed.
                    - aspect_ratio: 1.2/1
                      entity: media_player.ovunque
                      icon: 'mdi:speaker-multiple'
                      label: Google Cast
                      name: Badkamer
                      show_icon: false
                      show_label: false
                      show_last_changed: false
                      show_entity_picture: false
                      show_name: false
                      show_state: false
                      tap_action:
                        action: none
                      hold_action:
                        action: more-info
                      style:
                        height: 80%
                        width: 100%
                        top: 40%
                        left: 50%
                      styles:
                        card:
                          - filter: opacity(0%)
                      type: 'custom:button-card'
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:skip-next-circle'
                      type: 'custom:button-card'
                      size: 100%
                      entity: media_player.ovunque
                      style:
                        right: '-5%'
                        top: 50%
                        height: 25%
                        width: 25%
                      state:
                        - styles:
                            icon:
                              - filter: opacity(100%)
                              - transition: all 0.5s ease
                              - color: '#FFFFFF' #color of button while paused
                          value: paused
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - filter: opacity(30%)
                          - transition: all 0.5s ease
                          - color: var(--music-accent-color) #color of button while playing
                      tap_action:
                        action: call-service
                        service: media_player.media_next_track
                        service_data:
                          entity_id: media_player.ovunque
                        haptic: medium
                      hold_action:
                        action: none
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:skip-previous-circle'
                      type: 'custom:button-card'
                      size: 100%
                      entity: media_player.ovunque
                      style:
                        right: 55%
                        top: 50%
                        height: 25%
                        width: 25%
                      state:
                        - styles:
                            icon:
                              - filter: opacity(100%)
                              - transition: all 0.5s ease
                              - color: '#FFFFFF' #color of button while paused
                          value: paused
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - filter: opacity(30%)
                          - transition: all 0.5s ease
                          - color: var(--music-accent-color) #color of button while playing
                      tap_action:
                        action: call-service
                        service: media_player.media_previous_track
                        service_data:
                          entity_id: media_player.ovunque
                        haptic: medium
                      hold_action:
                        action: none
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:pause-circle'
                      type: 'custom:button-card'
                      size: 100%
                      entity: media_player.ovunque
                      style:
                        right: 10%
                        top: 50%
                        height: 40%
                        width: 40%
                      state:
                        - styles:
                            icon:
                              - filter: opacity(100%)
                              - transition: all 0.5s ease
                              - color: '#FFFFFF' #color of button while paused
                          value: paused
                          icon: 'mdi:play-circle'
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - filter: opacity(30%)
                          - transition: all 0.5s ease
                          - color: var(--music-accent-color) #color of button while playing
                      tap_action:
                        action: call-service
                        service: media_player.media_play_pause
                        service_data:
                          entity_id: media_player.ovunque
                        haptic: medium
                      hold_action:
                        action: none
                    
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:power-standby'
                      type: 'custom:button-card'
                      size: 90%
                      style:
                        right: 2%
                        top: 88%
                        height: 5%
                        width: 5%
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - color: var(--text-color)
                      tap_action:
                        action: call-service
                        service: media_player.turn_off
                        service_data:
                          entity_id: media_player.ovunque
                        haptic: medium
                      hold_action:
                        action: none
                    - aspect_ratio: 1/1
                      show_name: false
                      show_icon: true
                      icon: 'mdi:dots-horizontal-circle'
                      type: 'custom:button-card'
                      size: 90%
                      style:
                        right: 18%
                        top: 88%
                        height: 5%
                        width: 5%
                      styles:
                        card:
                          - padding: 0px
                          - border-radius: 50%
                        icon:
                          - color: var(--text-color)
                      tap_action:
                        action: call-service
                        service: browser_mod.more_info
                        service_data:
                          entity_id: media_player.ovunque
                          deviceID: this
                        haptic: medium
                      hold_action:
                        action: none  


            ##### MEDIA CONTROLS #####

              - type: picture-elements
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' /%3E"
                elements:

                  # APPLE TV 
                  - type: custom:button-card
                    entity: media_player.appletv_soggiorno
                    custom_fields:
                      icon: *icon_apple_tv
                    style:
                      top: 23.9%
                      left: 23.8%
                      width: 47.7%
                    template: media

                  # TV SALA
                  - type: custom:button-card
                    entity: media_player.tv_sala
                    custom_fields:
                      icon: *icon_tv
                    style:
                      top: 23.9%
                      left: 76.2%
                      width: 47.7%
                    template: media

                  # SPEAKER SALA
                  - type: custom:button-card
                    entity: media_player.sala
                    name: Speaker Sala
                    custom_fields:
                      icon: *icon_echo_dot
                    style:
                      top: 76.2%
                      left: 23.8%
                      width: 47.7%
                    template: media    

                  # SPEAKER CASA
                  - type: custom:button-card
                    entity: media_player.ovunque
                    name: Speaker Casa
                    custom_fields:
                      icon: *icon_echo_dot
                    style:
                      top: 76.2%
                      left: 76.2%
                      width: 47.7%
                    template: media           
          
          ###########################################################################
          #                                                                         #
          #                          Download Recenti                               #
          #                                                                         #
          ###########################################################################            


          - type: custom:swipe-card
            start_card: 1
            parameters:
              roundLengths: true
              effect: coverflow
              speed: 650
              spaceBetween: 20
              threshold: 7
              coverflowEffect:
                rotate: 80
                depth: 300
            style:
              top: 22.55%
              left: 80%
              width: 20.97%
              height: 1px
              --ha-card-border-radius: .88vw
            cards:  

              - type: picture-elements
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' /%3E"
                elements:

                  #################################################
                  #                                               #
                  #               SERIE TV RECENTI                #
                  #                                               #
                  #################################################


            
                  - type: custom:button-card
                    entity: sensor.serie_tv_recenti
                    triggers_update:
                      ['sensor.serie_tv_recenti']
                    name: Serie TV Recenti
                    state_display: >
                      [[[ const data = states[entity.entity_id].attributes.data;
                      const number = data[1].number == undefined ? '(' + data[1].aired.split('-')[0] + ')' : data[1].number;
                      return `${data[1].title} ${number}`; ]]]
                    custom_fields:
                      icon: >
                        <svg viewBox="0 0 50 50"><path d="M7.7.3h34.6c4.1 0 7.4 3.3 7.4 7.4v34.6c0 4.1-3.3 7.4-7.4 7.4H7.7c-4.1 0-7.4-3.3-7.4-7.4V7.7C.3 3.6 3.6.3 7.7.3z" fill="#282a2d"/><path d="M25,7.1H14.6L25,25L14.6,42.9H25L35.4,25L25,7.1z" fill="#e5a00d"/></svg>
                      blur: >
                        <svg viewBox="0 0 50 50" />
                    styles:
                      custom_fields:
                        media_image: &plex_poster
                          [background-position: center center, background-image: 
                          "[[[ return 'url(' + states[entity.entity_id].attributes.data[1].fanart + ')'; ]]]"]
                        blur: *plex_poster
                        overlay: [background: 'rgba(0, 0, 0, 0.4)']
                      card:
                        [color: '#efefef', text-shadow: '1px 1px 5px rgba(18, 22, 23, 0.9)']
                    tap_action:
                      action: none
                    style:
                      top: 50%
                      left: 50%
                      width: 100%
                    template: conditional_media
                  
          - type: custom:swipe-card
            start_card: 1
            parameters:
              roundLengths: true
              effect: coverflow
              speed: 650
              spaceBetween: 20
              threshold: 7
              coverflowEffect:
                rotate: 80
                depth: 300
            style:
              top: 54.49%
              left: 80%
              width: 20.97%
              height: 1px
              --ha-card-border-radius: .88vw
            cards:  

              - type: picture-elements
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' /%3E"
                elements:

                  #################################################
                  #                                               #
                  #                FILM RECENTI                   #
                  #                                               #
                  #################################################


            
                - type: custom:button-card
                  entity: sensor.film_recenti
                  triggers_update:
                    ['sensor.film_recenti']
                  name: Film Recenti
                  state_display: >
                    [[[ const data = states[entity.entity_id].attributes.data;
                    const number = data[1].number == undefined ? '(' + data[1].aired.split('-')[0] + ')' : data[1].number;
                    return `${data[1].title} ${number}`; ]]]
                  custom_fields:
                    icon: >
                      <svg viewBox="0 0 50 50"><path d="M7.7.3h34.6c4.1 0 7.4 3.3 7.4 7.4v34.6c0 4.1-3.3 7.4-7.4 7.4H7.7c-4.1 0-7.4-3.3-7.4-7.4V7.7C.3 3.6 3.6.3 7.7.3z" fill="#282a2d"/><path d="M25,7.1H14.6L25,25L14.6,42.9H25L35.4,25L25,7.1z" fill="#e5a00d"/></svg>
                    blur: >
                      <svg viewBox="0 0 50 50" />
                  styles:
                    custom_fields:
                      media_image: &plex_poster2
                        [background-position: center center, background-image: 
                        "[[[ return 'url(' + states[entity.entity_id].attributes.data[1].fanart + ')'; ]]]"]
                      blur: *plex_poster
                      overlay: [background: 'rgba(0, 0, 0, 0.4)']
                    card:
                      [color: '#efefef', text-shadow: '1px 1px 5px rgba(18, 22, 23, 0.9)']
                  tap_action:
                    action: none
                  style:
                    top: 50%
                    left: 50%
                    width: 100%
                  template: conditional_media       
                                          
                    

  ############################################################################################
  ############################################################################################
                  ###                                                     ###                
                  ###                    SIDEBAR                          ###
                  ###                                                     ###
  ############################################################################################
  ############################################################################################

          - action: none
            hold_action:
              action: none
            image: /local/ui/sidebar/sidebar_xl.png
            style:
              height: 100%
              left: 11.73828125%
              top: 50%
              width: 23.4765625%
            tap_action:
              action: none
            type: image
            

          #########################    TIME AND DATE    #########################

          - entity: sensor.time
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.7)'
              font-size: 5.41vw
              font-weight: 200
              left: 2.7%
              letter-spacing: '-0.05vw'
              max-width: 1px
              top: 10%
            tap_action:
              action: none
            type: state-label
          - entity: sensor.sidebar_date
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.3)'
              font-size: 1.3vw
              font-weight: 300
              left: 18.1%
              letter-spacing: '-0.05vw'
              text-align: left
              top: 17%
              width: 30%
            tap_action:
              action: none
            type: state-label
          

          #########################    MENU BUTTONS    #########################

          - action: none
            image: /local/ui/sidebar/home_off.png
            style:
              left: 11.7%
              top: 26%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/home
            type: image
          - action: none
            image: /local/ui/sidebar/devices_off.png
            style:
              left: 11.7%
              top: 34%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/devices
            type: image
          - action: none
            image: /local/ui/sidebar/media_on.png?v=1
            style:
              border-radius: 5vw
              box-shadow: '0px 0.2vw 0.8vw 0px rgba(0,0,0,0.1)'
              left: 11.7%
              top: 42%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/media
            type: image
          - action: none
            image: /local/ui/sidebar/clima_off.png
            style:
              left: 11.7%
              top: 50%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/clima
            type: image
          - action: none
            image: /local/ui/sidebar/down_2s.gif
            style:
              left: 11.7%
              top: 58%
              width: 8%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/system
            type: image 


          #########################    People at home    #########################
          #Optional label for people at Home (Hidden with opacity: 0, Visible with opacity: 1)
            
          - style:
              color: white
              font-size: 1vw
              font-weight: 300
              left: 8.8%
              opacity: 1
              top: 66%
              width: 10%
            text: 'In Casa:'
            type: 'custom:text-element'
            
          - action: none
            entity: person.andrea
            state_image:
              home: /local/propic/andre.jpg
              not_home: /local/propic/andregr.jpg
              Lavoro Andre: /local/propic/andregr.jpg
              Casa Pinto: /local/propic/andregr.jpg
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border-radius: 10vw
              height: 4.5vw
              left: 5.8%
              top: 72%
              width: 4.5vw
            tap_action: none
            type: image
              
          - action: none
            entity: person.mary
            state_image:
              home: /local/propic/mary.jpg
              not_home: /local/propic/marygr.jpg
              Lavoro Mary: /local/propic/marygr.jpg
              Casa Pinto: /local/propic/marygr.jpg
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border-radius: 10vw
              height: 4.5vw
              left: 10.8%
              top: 72%
              width: 4.5vw
            tap_action: none
            type: image
            
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 15.9%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 21.1%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image

            
          #########################    Minigraph to show temperature inside and out    #########################

          - color_thresholds:
              - color: '#4dd2ff'
                value: 10
              - color: '#ffa31a'
                value: 15
              - color: '#ff1a1a'
                value: 20
            entities:
              - sensor.daikin_sala_inside_temperature
              - sensor.daikin_sala_outside_temperature
            icon: 'mdi:home-thermometer-outline'
            show:
              icon: true
              legend: false
              name: false
            style: |
              :host {
                left: 11.6%;
                top:  92.9%;
                width: 23.5%;
                overflow: hidden;
                height: 15%;
                background: none  !important;
                box-shadow: none !important;
              }
              .header {
                font-size: 1vw;
                position: absolute !important;
                width: 5% !important;
                padding: 0 !important;
                right: 20% !important;
                top: 15% !important;
              }
              ha-card {
                background: none  !important;
                padding: 0 !important;
              }
              .icon > ha-icon {
                width:1.8vw !important;
                height:1.8vw !important;
              }
              .state__time{
                font-size:0.9vw !important;
                margin-top: 0.2vw;
                font-weight: 300 !important;
                opacity: 0.4 !important;
              }
              .states {
                font-size: 0.5vw !important;
                padding: 1vw 0vw 0vw 0vw  !important;
                margin: auto !important;
                width: 68%;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace/4 #DA MODIFICARE!!!!!!!!!!!!!!!!!!!!!!!!
            type: 'custom:mini-graph-card'
        
        
          #########################    Mini Weather card    #########################
            
          - backdrop: false
            entity: weather.home
            name: ' '
            style: |
              :host {
                left: 11.4%;
                top:  85.5%;
                width: 17%;
                height: 7% !important;
                overflow: hidden;
                height: 8.5vw;
                background: none  !important;
                box-shadow: none !important;
                font-size: 1vw !important;
              }
              ha-card {
                background: none  !important;
                box-shadow: none !important;
                flex-flow: row-reverse !important;
                padding: 0 !important;
              }
              .weather__info--add{
                display : none !important;
              }
              .weather__info{
                flex-grow: 1;
                min-height: 0 !important;
                height: 2.4vw;
                margin-left: 0.6vw;
                margin-top: 0.9vw;
              }
              .weather__icon{
                margin-right:0.5% !important;
                margin-top: -3%;
                width: 2vw !important;
                height: 2vw !important;
                flex: 0 0 2vw !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace/4 #DA CAMBIARE!!!!!!!!!!!!!!!!!
            type: 'custom:simple-weather-card'    
          
          
          #########################    Overlay shadow images    #########################
            
          - action: none
            image: /local/ui/sidebar/sideShadow.png
            style:
              height: 35%
              left: 18.45%
              pointer-events: none
              top: 83%
              width: 10%
            type: image
          - action: none
            image: /local/ui/sidebar/sidebarInnerShadow.png
            style:
              left: 22.83%
              opacity: 0.7
              pointer-events: none
              top: 50%
              width: 1.2109375%
            type: image  

    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                                 Clima                                                                     #
    #                                                                                                                                           #
    #############################################################################################################################################

  - title: Clima        
    icon: 'mdi:home-thermometer-outline'
    path: clima
    panel: true
    cards: 
      - type: picture-elements    
        image: /local/ui/blurredFloorplan.png
        style: |
          ha-card {
            background: rgba(42, 46, 48, 1)
          }
        elements:
  
          - type: 'custom:layout-card-griddier'
            layout: grid
            gridcols: 50% 50%
            gridrows: auto auto auto
            gridareas: |
              'card0 xxxxx'
              'card1 card2' 
              'card3 card4'
            gridcols_medium: 50% 50%
            gridareas_medium: |
              'card0 xxxxx'
              'card1 card2' 
              'card3 card4' 
          ### Card7 is only a placeholder       
            gridcols_small: 100%
            gridareas_small: |
              'card0'
              'card1' 
              'card2'
              'card3'
              'card4'
            column_width: 500px
            style: 
              height: 87%
              left: 62%
              top: 60%
              width: 68%
            cards:
                    
        ### CARD 1                
              - gridarea: card1
                type: 'custom:mini-graph-card'        
                entities:
                  - sensor.daikin_sala_inside_temperature
                tap_action: 
                  action: more-info
                  entity: climate.daikin_sala
                height: 70
                hours_to_show: 24
                name: Sala
                points_per_hour: 0.5
                show:
                  extrema: true
                  labels: false
                color_thresholds_transition: hard
                color_thresholds:
                  - value: 0
                    color: '#66ffff'
                  - value: 19
                    color: '#53ff1a'
                  - value: 25
                    color: '#ffff00'
                  - value: 27
                    color: '#ff8000'
                  - value: 40
                    color: '#ff0000'     
                style: |
                  ha-card {
                    border-radius: 15px;
                    } 
                    
        ### CARD 2                
              - gridarea: card2
                type: 'custom:mini-graph-card'        
                entities:
                  - sensor.daikin_camera_inside_temperature
                tap_action: 
                  action: more-info
                  entity: climate.daikin_camera
                height: 70
                hours_to_show: 24
                name: Camera
                points_per_hour: 0.5
                show:
                  extrema: true
                  labels: false
                color_thresholds_transition: hard
                color_thresholds:
                  - value: 0
                    color: '#66ffff'
                  - value: 19
                    color: '#53ff1a'
                  - value: 25
                    color: '#ffff00'
                  - value: 27
                    color: '#ff8000'
                  - value: 40
                    color: '#ff0000'     
                style: |
                  ha-card {
                    border-radius: 15px;
                    } 

        ### CARD 3                
              - gridarea: card3
                type: 'custom:mini-graph-card'        
                entities:
                  - sensor.daikin_studio_inside_temperature
                tap_action: 
                  action: more-info
                  entity: climate.daikin_studio
                height: 70
                hours_to_show: 24
                name: Studio
                points_per_hour: 0.5
                show:
                  extrema: true
                  labels: false
                color_thresholds_transition: hard
                color_thresholds:
                  - value: 0
                    color: '#66ffff'
                  - value: 19
                    color: '#53ff1a'
                  - value: 25
                    color: '#ffff00'
                  - value: 27
                    color: '#ff8000'
                  - value: 40
                    color: '#ff0000'     
                style: |
                  ha-card {
                    border-radius: 15px;
                    } 

        ### CARD 4                
              - gridarea: card4
                type: 'custom:mini-graph-card'        
                entities:
                  - sensor.openweather_temperature
                tap_action: 
                  action: more-info
                  entity: climate.daikin_studio
                height: 70
                hours_to_show: 24
                name: Fuori
                points_per_hour: 0.5
                show:
                  extrema: true
                  labels: false
                color_thresholds_transition: hard
                color_thresholds:
                  - value: 0
                    color: '#66ffff'
                  - value: 14
                    color: '#53ff1a'
                  - value: 19
                    color: '#ffff00'
                  - value: 25
                    color: '#ff8000'
                  - value: 40
                    color: '#ff0000'     
                style: |
                  ha-card {
                    border-radius: 15px;
                    }                     

  ############################################################################################
  ############################################################################################
                  ###                                                     ###                
                  ###                    SIDEBAR                          ###
                  ###                                                     ###
  ############################################################################################
  ############################################################################################

          - action: none
            hold_action:
              action: none
            image: /local/ui/sidebar/sidebar_xl.png
            style:
              height: 100%
              left: 11.73828125%
              top: 50%
              width: 23.4765625%
            tap_action:
              action: none
            type: image
            

          #########################    TIME AND DATE    #########################

          - entity: sensor.time
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.7)'
              font-size: 5.41vw
              font-weight: 200
              left: 2.7%
              letter-spacing: '-0.05vw'
              max-width: 1px
              top: 10%
            tap_action:
              action: none
            type: state-label
          - entity: sensor.sidebar_date
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.3)'
              font-size: 1.3vw
              font-weight: 300
              left: 18.1%
              letter-spacing: '-0.05vw'
              text-align: left
              top: 17%
              width: 30%
            tap_action:
              action: none
            type: state-label
          

          #########################    MENU BUTTONS    #########################

          - action: none
            image: /local/ui/sidebar/home_off.png
            style:
              left: 11.7%
              top: 26%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/home
            type: image
          - action: none
            image: /local/ui/sidebar/devices_off.png
            style:
              left: 11.7%
              top: 34%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/devices
            type: image
          - action: none
            image: /local/ui/sidebar/media_off.png?v=1
            style:
              left: 11.7%
              top: 42%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/media
            type: image
          - action: none
            image: /local/ui/sidebar/clima_on.png
            style:
              border-radius: 5vw
              box-shadow: '0px 0.2vw 0.8vw 0px rgba(0,0,0,0.1)'
              left: 11.7%
              top: 50%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/clima
            type: image
          - action: none
            image: /local/ui/sidebar/down_2s.gif
            style:
              left: 11.7%
              top: 58%
              width: 8%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/system
            type: image 


          #########################    People at home    #########################
          #Optional label for people at Home (Hidden with opacity: 0, Visible with opacity: 1)
            
          - style:
              color: white
              font-size: 1vw
              font-weight: 300
              left: 8.8%
              opacity: 1
              top: 66%
              width: 10%
            text: 'In Casa:'
            type: 'custom:text-element'
            
          - action: none
            entity: person.andrea
            state_image:
              home: /local/propic/andre.jpg
              not_home: /local/propic/andregr.jpg
              Lavoro Andre: /local/propic/andregr.jpg
              Casa Pinto: /local/propic/andregr.jpg
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border-radius: 10vw
              height: 4.5vw
              left: 5.8%
              top: 72%
              width: 4.5vw
            tap_action: none
            type: image
              
          - action: none
            entity: person.mary
            state_image:
              home: /local/propic/mary.jpg
              not_home: /local/propic/marygr.jpg
              Lavoro Mary: /local/propic/marygr.jpg
              Casa Pinto: /local/propic/marygr.jpg
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border-radius: 10vw
              height: 4.5vw
              left: 10.8%
              top: 72%
              width: 4.5vw
            tap_action: none
            type: image
            
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 15.9%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 21.1%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image

            
          #########################    Minigraph to show temperature inside and out    #########################

          - color_thresholds:
              - color: '#4dd2ff'
                value: 10
              - color: '#ffa31a'
                value: 15
              - color: '#ff1a1a'
                value: 20
            entities:
              - sensor.daikin_sala_inside_temperature
              - sensor.daikin_sala_outside_temperature
            icon: 'mdi:home-thermometer-outline'
            show:
              icon: true
              legend: false
              name: false
            style: |
              :host {
                left: 11.6%;
                top:  92.9%;
                width: 23.5%;
                overflow: hidden;
                height: 15%;
                background: none  !important;
                box-shadow: none !important;
              }
              .header {
                font-size: 1vw;
                position: absolute !important;
                width: 5% !important;
                padding: 0 !important;
                right: 20% !important;
                top: 15% !important;
              }
              ha-card {
                background: none  !important;
                padding: 0 !important;
              }
              .icon > ha-icon {
                width:1.8vw !important;
                height:1.8vw !important;
              }
              .state__time{
                font-size:0.9vw !important;
                margin-top: 0.2vw;
                font-weight: 300 !important;
                opacity: 0.4 !important;
              }
              .states {
                font-size: 0.5vw !important;
                padding: 1vw 0vw 0vw 0vw  !important;
                margin: auto !important;
                width: 68%;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace/4 #DA MODIFICARE!!!!!!!!!!!!!!!!!!!!!!!!
            type: 'custom:mini-graph-card'
        
        
          #########################    Mini Weather card    #########################
            
          - backdrop: false
            entity: weather.home
            name: ' '
            style: |
              :host {
                left: 11.4%;
                top:  85.5%;
                width: 17%;
                height: 7% !important;
                overflow: hidden;
                height: 8.5vw;
                background: none  !important;
                box-shadow: none !important;
                font-size: 1vw !important;
              }
              ha-card {
                background: none  !important;
                box-shadow: none !important;
                flex-flow: row-reverse !important;
                padding: 0 !important;
              }
              .weather__info--add{
                display : none !important;
              }
              .weather__info{
                flex-grow: 1;
                min-height: 0 !important;
                height: 2.4vw;
                margin-left: 0.6vw;
                margin-top: 0.9vw;
              }
              .weather__icon{
                margin-right:0.5% !important;
                margin-top: -3%;
                width: 2vw !important;
                height: 2vw !important;
                flex: 0 0 2vw !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace/4 #DA CAMBIARE!!!!!!!!!!!!!!!!!
            type: 'custom:simple-weather-card'    
          
          
          #########################    Overlay shadow images    #########################
            
          - action: none
            image: /local/ui/sidebar/sideShadow.png
            style:
              height: 35%
              left: 18.45%
              pointer-events: none
              top: 83%
              width: 10%
            type: image
          - action: none
            image: /local/ui/sidebar/sidebarInnerShadow.png
            style:
              left: 22.83%
              opacity: 0.7
              pointer-events: none
              top: 50%
              width: 1.2109375%
            type: image  

    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                                 System                                                                    #
    #                                                                                                                                           #
    #############################################################################################################################################

  - title: System        
    icon: 'mdi:server'
    path: system
    panel: true
    cards:
      - type: picture-elements    
        image: /local/ui/blurredFloorplan.png
        style: |
          ha-card {
            background: rgba(42, 46, 48, 1)
          }
        elements:
          
          - type: 'custom:layout-card-griddier'
            layout: grid
            gridcols: 50% 50%
            gridrows: auto auto auto
            gridareas: |
              'card0 card1'
              'card2 card3' 
              'card4 card5'
              'card6 card7' 
            gridcols_medium: 50% 50%
            gridareas_medium: |
              'card0 card1'
              'card2 card3' 
              'card4 card5'
              'card6 card7'  
            gridcols_small: 100%
            gridareas_small: |
              'card0'
              'card1' 
              'card2'
              'card3'
              'card4'
              'card5'
              'card6'
              'card7'
            column_width: 500px
            style: 
              height: 87%
              left: 62%
              top: 55%
              width: 68%
            cards:   
                      
                      
    ####################################################
    #                                                  #
    #                HOME ASSISTANT                    #
    #                                                  #
    ####################################################  

    ### CARD 2    
              - type: vertical-stack
                gridarea: card2
                cards:
                  - type: vertical-stack
                    cards:
                      - type: markdown
                        content: |
                          # Home Assistant
                        style:
                          .: |
                            ha-card {
                              --ha-card-background: none !important;
                              box-shadow: none !important;
                              height: 30px;
                            }
                          ha-markdown:
                            $: |
                              h1 {
                                font-size: 20px;
                                font-weight: bold;
                                font-family: Helvetica;
                                letter-spacing: '-0.01em';
                              }
                      - type: markdown
                        content: >
                          #  Versione: {{states('sensor.hass_version_installed') }} | Disponibile: {{states('sensor.hass_version_latest') }} 

                        style:
                          .: |
                            ha-card {
                              --ha-card-background: none !important;
                              box-shadow: none !important;
                              height: 30px;
                            }
                          ha-markdown:
                            $: |
                              h1 {
                                font-size: 15px;
                                font-weight: thin;
                                font-family: Helvetica;
                                letter-spacing: '-0.01em';
                              }


    ####################################################
    #                                                  #
    #                   RASPBERRY                      #
    #                                                  #
    ####################################################  

    ### CARD 3
              - type: vertical-stack
                gridarea: card3
                cards:
                  - type: markdown
                    content: |
                      # Raspberry:
                    style:
                      .: |
                        ha-card {
                          --ha-card-background: none !important;
                          box-shadow: none !important;
                          height: 20px;
                          margin-top: 5px;
                        }
                      ha-markdown:
                        $: |
                          h1 {
                            font-size: 20px;
                            font-weight: bold;
                            font-family: Helvetica;
                            letter-spacing: '-0.01em';
                          }         
                  - type: markdown
                    content: >
                      #  Uptime: {{states('sensor.omv_uptime') }} ore | Alimentazione: {% if is_state('binary_sensor.rpi_power_status', 'off') %} OK {% else %} NON OK {% endif %} 
                    style:
                      .: |
                        ha-card {
                          --ha-card-background: none !important;
                          box-shadow: none !important;
                          height: 30px;
                        }
                      ha-markdown:
                        $: |
                          h1 {
                            font-size: 15px;
                            font-weight: thin;
                            font-family: Helvetica;
                            letter-spacing: '-0.01em';
                          }

    ### CARD 4                          
              - type: 'custom:mini-graph-card'
                gridarea: card4
                color_type: card
                entities:
                  - sensor.raspberry_temp
                height: 70
                hours_to_show: 24
                name: Temperatura CPU Raspberry
                points_per_hour: 0.5
                align_state: center
                align_header: center
                show:
                  extrema: true
                  average: true
                  labels: false 
                color_thresholds_transition: hard
                color_thresholds:
                  - value: 0
                    color: '#66ffff'
                  - value: 35
                    color: '#53ff1a'
                  - value: 45
                    color: '#ffff00'
                  - value: 55
                    color: '#ff8000'
                  - value: 100
                    color: '#ff0000'     
                style: |
                  ha-card {
                    border-radius: 15px;
                    height: 230px;
                    } 

    ### CARD 5
              - type: 'custom:mini-graph-card'
                gridarea: card5
                color_type: card
                entities:
                  - entity: sensor.processor_use
                    name: CPU
                    color: red
                  - entity: sensor.memory_use_percent
                    name: RAM
                    color: orange
                    show_state: true
                height: 70
                hours_to_show: 24
                points_per_hour: 0.5
                align_state: center
                align_header: center
                name: CPU & RAM
                icon: mdi:cpu-64-bit
                show:
                  extrema: false
                  average: false
                  labels: false    
                style: |
                  ha-card {
                    border-radius: 15px;
                    height: 230px;
                    }    
                        
    ####################################################
    #                                                  #
    #                  OMV + PIHOLE                    #
    #                                                  #
    ####################################################                          

    ### CARD 6    
              - type: vertical-stack
                gridarea: card6
                cards:
                  - type: markdown
                    content: |
                      # Open Media Vault
                    style:
                      .: |
                        ha-card {
                          --ha-card-background: none !important;
                          box-shadow: none !important;
                          height: 20px;
                          margin-top: 5px;
                        }
                      ha-markdown:
                        $: |
                          h1 {
                            font-size: 20px;
                            font-weight: bold;
                            font-family: Helvetica;
                            letter-spacing: '-0.01em';
                          }         
                  - type: markdown
                    content: >
                      #  NAS Uptime: {{states('sensor.omv_uptime') }} ore
                    style:
                      .: |
                        ha-card {
                          --ha-card-background: none !important;
                          box-shadow: none !important;
                          height: 40px;
                        }
                      ha-markdown:
                        $: |
                          h1 {
                            font-size: 15px;
                            font-weight: thin;
                            font-family: Helvetica;
                            letter-spacing: '-0.01em';
                          }     
                  - type: custom:bar-card
                    entities:
                      - entity: sensor.omv_nas
                        icon: 'mdi:harddisk'
                        name: NAS
                      - entity: sensor.omv_backup
                        icon: 'mdi:harddisk-plus'
                        name: BACKUP
                    direction: up
                    positions:
                      value: inside
                      icon: false
                    height: 220px
                    width: 60%
                    entity_row: true
                    stack: horizontal  
                    color: '#00a1ff'
                    bar_style:
                      border-radius: 5px  
                    style: |
                          ha-card {
                            height: 260px;
                            border-radius: 15px; 
                            }  
                            
    ### CARD 7                            
              - type: vertical-stack
                gridarea: card7
                cards:
                  - type: markdown
                    content: |
                      # PiHole
                    style:
                      .: |
                        ha-card {
                          --ha-card-background: none !important;
                          box-shadow: none !important;
                          height: 20px;
                          margin-top: 5px;
                        }
                      ha-markdown:
                        $: |
                          h1 {
                            font-size: 20px;
                            font-weight: bold;
                            font-family: Helvetica;
                            letter-spacing: '-0.01em';
                          }         
                  - type: markdown
                    content: >
                      #  Totale Queries bloccate: {{states('sensor.pi_hole_ads_blocked_today') }}
                    style:
                      .: |
                        ha-card {
                          --ha-card-background: none !important;
                          box-shadow: none !important;
                          height: 40px;
                        }
                      ha-markdown:
                        $: |
                          h1 {
                            font-size: 15px;
                            font-weight: thin;
                            font-family: Helvetica;
                            letter-spacing: '-0.01em';
                          }     
                  - type: 'custom:mini-graph-card'
                    color_type: card
                    entities:
                      - entity: sensor.pi_hole_ads_percentage_blocked_today
                        color: '#f205b3'
                    name: '% Bloccate'
                    height: 95
                    hours_to_show: 24
                    points_per_hour: 3600
                    update_interval: 10
                    aggregate_func: avg
                    line_width: 5
                    smoothing: false
                    align_state: center
                    align_header: center
                    show:
                      graph: bar
                      average: true
                      extrema: true
                    color_thresholds_transition: hard    
                    style: |
                      ha-card {
                        height: 230px;
                        border-radius: 15px;
                        }  
    

############################################################################################
############################################################################################
                ###                                                     ###                
                ###                    SIDEBAR                          ###
                ###                                                     ###
############################################################################################
############################################################################################

          - action: none
            hold_action:
              action: none
            image: /local/ui/sidebar/sidebar_xl.png
            style:
              height: 100%
              left: 11.73828125%
              top: 50%
              width: 23.4765625%
            tap_action:
              action: none
            type: image
            

          #########################    TIME AND DATE    #########################

          - entity: sensor.time
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.7)'
              font-size: 5.41vw
              font-weight: 200
              left: 2.7%
              letter-spacing: '-0.05vw'
              max-width: 1px
              top: 10%
            tap_action:
              action: none
            type: state-label
          - entity: sensor.sidebar_date
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.3)'
              font-size: 1.3vw
              font-weight: 300
              left: 18.1%
              letter-spacing: '-0.05vw'
              text-align: left
              top: 17%
              width: 30%
            tap_action:
              action: none
            type: state-label
          

          #########################    MENU BUTTONS    #########################

          - action: none
            image: /local/ui/sidebar/up_2s.gif
            style:
              left: 11.7%
              top: 26%
              width: 8%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/home
            type: image 
          - action: none
            image: /local/ui/sidebar/system_on.png
            style:
              border-radius: 5vw
              box-shadow: '0px 0.2vw 0.8vw 0px rgba(0,0,0,0.1)'
              left: 11.7%
              top: 34%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/system
            type: image
          - action: none
            image: /local/ui/sidebar/domotica_off.png
            style:
              left: 11.7%
              top: 42%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/domotica
            type: image 


          #########################    People at home    #########################
          #Optional label for people at Home (Hidden with opacity: 0, Visible with opacity: 1)
            
          - style:
              color: white
              font-size: 1vw
              font-weight: 300
              left: 8.8%
              opacity: 1
              top: 66%
              width: 10%
            text: 'In Casa:'
            type: 'custom:text-element'
            
          - action: none
            entity: person.andrea
            state_image:
              home: /local/propic/andre.jpg
              not_home: /local/propic/andregr.jpg
              Lavoro Andre: /local/propic/andregr.jpg
              Casa Pinto: /local/propic/andregr.jpg
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border-radius: 10vw
              height: 4.5vw
              left: 5.8%
              top: 72%
              width: 4.5vw
            tap_action: none
            type: image
              
          - action: none
            entity: person.mary
            state_image:
              home: /local/propic/mary.jpg
              not_home: /local/propic/marygr.jpg
              Lavoro Mary: /local/propic/marygr.jpg
              Casa Pinto: /local/propic/marygr.jpg
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border-radius: 10vw
              height: 4.5vw
              left: 10.8%
              top: 72%
              width: 4.5vw
            tap_action: none
            type: image
            
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 15.9%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 21.1%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image

            
          #########################    Minigraph to show temperature inside and out    #########################

          - color_thresholds:
              - color: '#4dd2ff'
                value: 10
              - color: '#ffa31a'
                value: 15
              - color: '#ff1a1a'
                value: 20
            entities:
              - sensor.daikin_sala_inside_temperature
              - sensor.daikin_sala_outside_temperature
            icon: 'mdi:home-thermometer-outline'
            show:
              icon: true
              legend: false
              name: false
            style: |
              :host {
                left: 11.6%;
                top:  92.9%;
                width: 23.5%;
                overflow: hidden;
                height: 15%;
                background: none  !important;
                box-shadow: none !important;
              }
              .header {
                font-size: 1vw;
                position: absolute !important;
                width: 5% !important;
                padding: 0 !important;
                right: 20% !important;
                top: 15% !important;
              }
              ha-card {
                background: none  !important;
                padding: 0 !important;
              }
              .icon > ha-icon {
                width:1.8vw !important;
                height:1.8vw !important;
              }
              .state__time{
                font-size:0.9vw !important;
                margin-top: 0.2vw;
                font-weight: 300 !important;
                opacity: 0.4 !important;
              }
              .states {
                font-size: 0.5vw !important;
                padding: 1vw 0vw 0vw 0vw  !important;
                margin: auto !important;
                width: 68%;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace/4 #DA MODIFICARE!!!!!!!!!!!!!!!!!!!!!!!!
            type: 'custom:mini-graph-card'
        
        
          #########################    Mini Weather card    #########################
            
          - backdrop: false
            entity: weather.home
            name: ' '
            style: |
              :host {
                left: 11.4%;
                top:  85.5%;
                width: 17%;
                height: 7% !important;
                overflow: hidden;
                height: 8.5vw;
                background: none  !important;
                box-shadow: none !important;
                font-size: 1vw !important;
              }
              ha-card {
                background: none  !important;
                box-shadow: none !important;
                flex-flow: row-reverse !important;
                padding: 0 !important;
              }
              .weather__info--add{
                display : none !important;
              }
              .weather__info{
                flex-grow: 1;
                min-height: 0 !important;
                height: 2.4vw;
                margin-left: 0.6vw;
                margin-top: 0.9vw;
              }
              .weather__icon{
                margin-right:0.5% !important;
                margin-top: -3%;
                width: 2vw !important;
                height: 2vw !important;
                flex: 0 0 2vw !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace/4 #DA CAMBIARE!!!!!!!!!!!!!!!!!
            type: 'custom:simple-weather-card'    
          
          
          #########################    Overlay shadow images    #########################
            
          - action: none
            image: /local/ui/sidebar/sideShadow.png
            style:
              height: 35%
              left: 18.45%
              pointer-events: none
              top: 83%
              width: 10%
            type: image
          - action: none
            image: /local/ui/sidebar/sidebarInnerShadow.png
            style:
              left: 22.83%
              opacity: 0.7
              pointer-events: none
              top: 50%
              width: 1.2109375%
            type: image  


    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                                 Domotica                                                                    #
    #                                                                                                                                           #
    #############################################################################################################################################

  - title: Domotica        
    icon: 'mdi:tune'
    path: domotica
    panel: true
    cards:
      - type: picture-elements    
        image: /local/ui/blurredFloorplan.png
        style: |
          ha-card {
            background: rgba(42, 46, 48, 1)
          }
        elements:

          - type: 'custom:layout-card-griddier'
            layout: grid
            gridcols: 50% 50%
            gridrows: auto auto auto
            gridareas: |
              'card2 card4'  
            gridcols_medium: 50% 50%
            gridareas_medium: |
              'card0 card1'
              'card2 card3' 
              'card4 card5' 
            gridcols_small: 100%
            gridareas_small: |
              'card0'
              'card1' 
              'card2'
              'card3'
              'card4'
            column_width: 500px
            style: 
              height: 87%
              left: 62%
              top: 50%
              width: 68%
            cards:

    ### CARD 1
              - type: horizontal-stack
                gridarea: card1
                cards: 
                  - type: 'custom:button-card' 
                    icon: 'mdi:devices' # Change this to the icon you want to display
                    show_icon: true
                    show_name: false
                    styles:
                      card:
                        - width: 60px
                        - height: 60px
                        - margin: 10px
                        - border-radius: 15px
                        - box-shadow: |
                            [[[ return states['sun.sun'].state == 'below_horizon'
                                  ? 'inset -3px -3px 5px rgba(50, 50, 50, .5), inset 3px 3px 5px rgba(0, 0, 0, .3)'
                                  : 'inset -3px -3px 5px rgba(255, 255, 255, .65), inset 3px 3px 5px rgba(0, 0, 0, .035)';
                                ]]]
                        - background-color: var(--primary-background-color)
                      icon:
                        - color: var(--paper-item-icon-active-color)
                    state:
                      - value: 'on'
                        styles:
                          card:
                            - box-shadow: |
                                [[[ return states['sun.sun'].state == 'below_horizon'
                                  ? 'inset -3px -3px 5px rgba(50, 50, 50, .5), inset 3px 3px 5px rgba(0, 0, 0, .3)'
                                  : 'inset -3px -3px 5px rgba(255, 255, 255, .65), inset 3px 3px 5px rgba(0, 0, 0, .035)';
                                ]]]
                          icon:
                            - color: var(--paper-item-icon-active-color)
                    tap_action:
                      action: navigate
                      navigation_path: /ndr-ui/devices
                      haptic: light      

    ####################################################
    #                                                  #
    #                      SHELLY                      #
    #                                                  #
    ####################################################

    ### CARD 2
              - type: vertical-stack
                gridarea: card2
                cards:
                  - type: markdown
                    content: |
                      # Shelly
                    style:
                      .: |
                        ha-card {
                          --ha-card-background: none !important;
                          box-shadow: none !important;
                          height: 20px;
                          margin-top: 5px;
                        }
                      ha-markdown:
                        $: |
                          h1 {
                            font-size: 20px;
                            font-weight: bold;
                            font-family: Helvetica;
                            letter-spacing: '-0.01em';
                          }         
                  - type: markdown
                    content: >
                      #  Uptime: {{states('sensor.shelly_uptime') }}

                      #  Stato Firmware: {{states('sensor.shelly_fw_disponibile') }}
                    style:
                      .: |
                        ha-card {
                          --ha-card-background: none !important;
                          box-shadow: none !important;
                          height: 80px;
                        }
                      ha-markdown:
                        $: |
                          h1 {
                            font-size: 15px;
                            font-weight: thin;
                            font-family: Helvetica;
                            letter-spacing: '-0.01em';
                          }            
                  - type: horizontal-stack
                    cards:
                      - type: entities
                        entities:  
                          - entity: group.stato_shelly
                            name: Stato Sistema Shelly
                          - type: section
                          - entity: sensor.shelly_scale_stato
                            type: custom:multiple-entity-row
                            name: Scale
                            icon: mdi:stairs
                            show_state: false
                            entities:
                              - entity: sensor.shelly_scale_stato
                                name: Stato
                              - entity: sensor.shelly_scale_segnale
                                name: Segnale
                          - entity: sensor.shelly_faretti_stato
                            type: custom:multiple-entity-row
                            name: Faretti
                            icon: mdi:string-lights
                            show_state: false
                            entities:
                              - entity: sensor.shelly_faretti_stato
                                name: Stato
                              - entity: sensor.shelly_faretti_segnale
                                name: Segnale
                          - entity: sensor.shelly_led_cucina_stato
                            type: custom:multiple-entity-row
                            name: Led Cucina
                            icon: mdi:led-strip-variant
                            show_state: false
                            entities:
                              - entity: sensor.shelly_led_cucina_stato
                                name: Stato
                              - entity: sensor.shelly_led_cucina_segnale
                                name: Segnale
                          - entity: sensor.shelly_bagno_stato
                            type: custom:multiple-entity-row
                            name: Bagno
                            icon: mdi:ceiling-light
                            show_state: false
                            entities:
                              - entity: sensor.shelly_bagno_stato
                                name: Stato
                              - entity: sensor.shelly_bagno_segnale
                                name: Segnale
                          - entity: sensor.shelly_camera_stato
                            type: custom:multiple-entity-row
                            name: Camera
                            icon: mdi:string-lights
                            show_state: false
                            entities:
                              - entity: sensor.shelly_camera_stato
                                name: Stato
                              - entity: sensor.shelly_camera_segnale
                                name: Segnale
                          - entity: sensor.shelly_studio_stato
                            type: custom:multiple-entity-row
                            name: Studio
                            icon: mdi:spotlight-beam
                            show_state: false
                            entities:
                              - entity: sensor.shelly_studio_stato
                                name: Stato
                              - entity: sensor.shelly_studio_segnale
                                name: Segnale
                          - entity: sensor.shelly_giardino_stato
                            type: custom:multiple-entity-row
                            name: Giardino
                            icon: mdi:coach-lamp
                            show_state: false
                            entities:
                              - entity: sensor.shelly_giardino_stato
                                name: Stato
                              - entity: sensor.shelly_giardino_segnale
                                name: Segnale
                          - type: section
                          - entity: script.update_shelly
                            type: custom:multiple-entity-row
                            name: Aggiorna FW
                            toggle: true
                            state_color: true
                     
    ####################################################
    #                                                  #
    #                      ZIGBEE                      #
    #                                                  #
    ####################################################

    ### CARD 4
              - type: vertical-stack
                gridarea: card4
                cards:
                  - type: markdown
                    content: |
                      # ZigBee
                    style:
                      .: |
                        ha-card {
                          --ha-card-background: none !important;
                          box-shadow: none !important;
                          height: 20px;
                          margin-top: 5px;
                        }
                      ha-markdown:
                        $: |
                          h1 {
                            font-size: 20px;
                            font-weight: bold;
                            font-family: Helvetica;
                            letter-spacing: '-0.01em';
                          }         
                  - type: markdown
                    content: >
                      #  Stato Zigbee2mqtt Bridge: {{states('sensor.zigbee2mqtt_bridge_state') }}

                      #  Versione: {{states('sensor.zigbee2mqtt_version') }}
                    style:
                      .: |
                        ha-card {
                          --ha-card-background: none !important;
                          box-shadow: none !important;
                          height: 80px;
                        }
                      ha-markdown:
                        $: |
                          h1 {
                            font-size: 15px;
                            font-weight: thin;
                            font-family: Helvetica;
                            letter-spacing: '-0.01em';
                          }            
                  - type: horizontal-stack
                    cards:
                      - type: entities    
                        entities:
                          - entity: sensor.zigbee2mqtt_version
                            type: custom:multiple-entity-row
                            name: Versioni SW
                            show_state: false
                            entities:
                              - icon: mdi:zigbee
#                                name: Zigbee2mqtt
#                                entity: sensor.zigbee2mqtt_version
                                state_color: true
                                tap_action:
                                  action: more-info
                                  entity: sensor.zigbee2mqtt_version
                              - icon: mdi:information-outline
#                                name: Coordinator
#                                entity: sensor.coordinator_version
                                state_color: true
                                tap_action:
                                  action: more-info
                                  entity: sensor.coordinator_version
                          - entity: input_select.zigbee2mqtt_log_level
                          - type: section
                          - entity: switch.zigbee2mqtt_main_join
                            name: Aggiungi Dispositivo
                          - entity: timer.zigbee_permit_join
                            name: Timer
                          - type: section
                          - entity: input_text.zigbee2mqtt_old_name
                            name: Nome
                          - entity: input_text.zigbee2mqtt_new_name
                            name: Nuovo
                          - entity: script.zigbee2mqtt_rename
                            type: custom:multiple-entity-row
                            name: Rinomina
                            show_state: false
                            entities:
                              - icon: mdi:radiobox-marked
                                state_color: true
                                tap_action:
                                  action: toggle
                                  entity: script.zigbee2mqtt_rename
                          - type: section
                          - entity: input_text.zigbee2mqtt_remove
                            name: Nome
                          - entity: script.zigbee2mqtt_remove
                            type: custom:multiple-entity-row
                            name: Rimuovi
                            show_state: false
                            entities:
                              - icon: mdi:radiobox-marked
                                state_color: true
                                tap_action:
                                  action: toggle
                                  entity: script.zigbee2mqtt_remove
                        show_header_toggle: false



############################################################################################
############################################################################################
                ###                                                     ###                
                ###                    SIDEBAR                          ###
                ###                                                     ###
############################################################################################
############################################################################################

          - action: none
            hold_action:
              action: none
            image: /local/ui/sidebar/sidebar_xl.png
            style:
              height: 100%
              left: 11.73828125%
              top: 50%
              width: 23.4765625%
            tap_action:
              action: none
            type: image
            

          #########################    TIME AND DATE    #########################

          - entity: sensor.time
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.7)'
              font-size: 5.41vw
              font-weight: 200
              left: 2.7%
              letter-spacing: '-0.05vw'
              max-width: 1px
              top: 10%
            tap_action:
              action: none
            type: state-label
          - entity: sensor.sidebar_date
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.3)'
              font-size: 1.3vw
              font-weight: 300
              left: 18.1%
              letter-spacing: '-0.05vw'
              text-align: left
              top: 17%
              width: 30%
            tap_action:
              action: none
            type: state-label
          

          #########################    MENU BUTTONS    #########################

          - action: none
            image: /local/ui/sidebar/up_2s.gif
            style:
              left: 11.7%
              top: 26%
              width: 8%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/home
            type: image 
          - action: none
            image: /local/ui/sidebar/system_off.png
            style: 
              left: 11.7%
              top: 34%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/system
            type: image
          - action: none
            image: /local/ui/sidebar/domotica_on.png
            style:
              border-radius: 5vw
              box-shadow: '0px 0.2vw 0.8vw 0px rgba(0,0,0,0.1)'
              left: 11.7%
              top: 42%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /ndr-tabletui/domotica
            type: image 


          #########################    People at home    #########################
          #Optional label for people at Home (Hidden with opacity: 0, Visible with opacity: 1)
            
          - style:
              color: white
              font-size: 1vw
              font-weight: 300
              left: 8.8%
              opacity: 1
              top: 66%
              width: 10%
            text: 'In Casa:'
            type: 'custom:text-element'
            
          - action: none
            entity: person.andrea
            state_image:
              home: /local/propic/andre.jpg
              not_home: /local/propic/andregr.jpg
              Lavoro Andre: /local/propic/andregr.jpg
              Casa Pinto: /local/propic/andregr.jpg
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border-radius: 10vw
              height: 4.5vw
              left: 5.8%
              top: 72%
              width: 4.5vw
            tap_action: none
            type: image
              
          - action: none
            entity: person.mary
            state_image:
              home: /local/propic/mary.jpg
              not_home: /local/propic/marygr.jpg
              Lavoro Mary: /local/propic/marygr.jpg
              Casa Pinto: /local/propic/marygr.jpg
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border-radius: 10vw
              height: 4.5vw
              left: 10.8%
              top: 72%
              width: 4.5vw
            tap_action: none
            type: image
            
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 15.9%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 21.1%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image

            
          #########################    Minigraph to show temperature inside and out    #########################

          - color_thresholds:
              - color: '#4dd2ff'
                value: 10
              - color: '#ffa31a'
                value: 15
              - color: '#ff1a1a'
                value: 20
            entities:
              - sensor.daikin_sala_inside_temperature
              - sensor.daikin_sala_outside_temperature
            icon: 'mdi:home-thermometer-outline'
            show:
              icon: true
              legend: false
              name: false
            style: |
              :host {
                left: 11.6%;
                top:  92.9%;
                width: 23.5%;
                overflow: hidden;
                height: 15%;
                background: none  !important;
                box-shadow: none !important;
              }
              .header {
                font-size: 1vw;
                position: absolute !important;
                width: 5% !important;
                padding: 0 !important;
                right: 20% !important;
                top: 15% !important;
              }
              ha-card {
                background: none  !important;
                padding: 0 !important;
              }
              .icon > ha-icon {
                width:1.8vw !important;
                height:1.8vw !important;
              }
              .state__time{
                font-size:0.9vw !important;
                margin-top: 0.2vw;
                font-weight: 300 !important;
                opacity: 0.4 !important;
              }
              .states {
                font-size: 0.5vw !important;
                padding: 1vw 0vw 0vw 0vw  !important;
                margin: auto !important;
                width: 68%;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace/4 #DA MODIFICARE!!!!!!!!!!!!!!!!!!!!!!!!
            type: 'custom:mini-graph-card'
        
        
          #########################    Mini Weather card    #########################
            
          - backdrop: false
            entity: weather.home
            name: ' '
            style: |
              :host {
                left: 11.4%;
                top:  85.5%;
                width: 17%;
                height: 7% !important;
                overflow: hidden;
                height: 8.5vw;
                background: none  !important;
                box-shadow: none !important;
                font-size: 1vw !important;
              }
              ha-card {
                background: none  !important;
                box-shadow: none !important;
                flex-flow: row-reverse !important;
                padding: 0 !important;
              }
              .weather__info--add{
                display : none !important;
              }
              .weather__info{
                flex-grow: 1;
                min-height: 0 !important;
                height: 2.4vw;
                margin-left: 0.6vw;
                margin-top: 0.9vw;
              }
              .weather__icon{
                margin-right:0.5% !important;
                margin-top: -3%;
                width: 2vw !important;
                height: 2vw !important;
                flex: 0 0 2vw !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace/4 #DA CAMBIARE!!!!!!!!!!!!!!!!!
            type: 'custom:simple-weather-card'    
          
          
          #########################    Overlay shadow images    #########################
            
          - action: none
            image: /local/ui/sidebar/sideShadow.png
            style:
              height: 35%
              left: 18.45%
              pointer-events: none
              top: 83%
              width: 10%
            type: image
          - action: none
            image: /local/ui/sidebar/sidebarInnerShadow.png
            style:
              left: 22.83%
              opacity: 0.7
              pointer-events: none
              top: 50%
              width: 1.2109375%
            type: image  
